
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Life Craft</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        #splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: #92deff;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
		#home-window {
    height: 100vh;
    display: flex;
    flex-direction: column;
}

#home-window .container {
    display: flex;
    flex-direction: column;
    height: 100%;
}

#home-window .top-bar {
    background-color: #4169e1;
    color: white;
    padding: 10px 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

#home-window .menu-button {
    background: none;
    border: none;
    color: white;
    font-size: 24px;
    cursor: pointer;
}

#home-window .game-title {
    font-size: 28px;
    font-weight: 600;
    letter-spacing: 1px;
}

#home-window .player-bar {
    background-color: #f1f3f5;
    color: #333;
    padding: 5px 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

#home-window .player-info {
    display: flex;
    align-items: center;
    cursor: pointer;
}

#home-window .player-icon {
    font-size: 32px;
    margin-right: 15px;
}

#home-window .player-name {
    font-weight: 600;
    font-size: 18px;
}

#home-window .player-job {
    font-size: 14px;
    opacity: 0.7;
}

#home-window .money {
    font-weight: 600;
    font-size: 18px;
    color: #4169e1;
}

#home-window .log-area {
    flex-grow: 1;
    background-color: white;
    border: 1px solid #e9ecef;
    margin: 1px;
    padding: 15px;
    overflow-y: auto;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

#home-window .log-area p {
    margin: 8px 0;
    font-size: 14px;
    line-height: 1.5;
}

#home-window .log-area .next-year {
    font-size: 24px;
    font-weight: 600;
    color: #4169e1;
    text-align: left;
    margin: 20px 0;
}

#home-window .stats-bar {
    background-color: #f1f3f5;
    color: #333;
    padding: 5px 15px 15px 15px;
    display: flex;
    flex-direction: column;
    align-items: center;
    box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.05);
}

#home-window .age-up-button {
    background-color: #4169e1;
    color: white;
    border: none;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s, transform 0.1s;
    margin-bottom: 1px;
}

#home-window .age-up-button:hover {
    background-color: #3a5cd0;
    transform: scale(1.05);
}

#home-window .age-up-button:active {
    transform: scale(1);
}

#home-window .stats-content {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    width: 100%;
}

#home-window .stat-bars {
    display: flex;
    flex-direction: column;
    gap: 2px;
    flex-grow: 1;
    margin-right: 20px;
}

#home-window .stat-bar {
    display: flex;
    flex-direction: column;
}

#home-window .stat-label {
    font-size: 14px;
    margin-bottom: 4px;
    font-weight: 600;
}

#home-window .stat-progress {
    width: 100%;
    height: 8px;
    background-color: #e9ecef;
    border-radius: 4px;
    overflow: hidden;
}

#home-window .stat-fill {
    height: 100%;
    transition: width 0.3s ease;
}

#home-window .action-buttons {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

#home-window .action-button {
    background-color: #4169e1;
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s, transform 0.1s;
    width: 130px;
    text-align: center;
    font-weight: 600;
    font-size: 14px;
    letter-spacing: 0.5px;
}

#home-window .action-button:hover {
    background-color: #3a5cd0;
    transform: translateY(-0.5px);
}

#home-window .action-button:active {
    transform: translateY(0);
}
#inputBox {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: white;
    padding: 20px;
    border-radius: 5px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    max-width: 400px;
    width: 80%;
    max-height: 80vh;
    overflow-y: auto;
    z-index: 2001;
}

#inputBox h2 {
    margin-top: 0;
    text-align: center;
    color: #4a90e2;
}

#inputBox p {
    margin-bottom: 20px;
}

#inputBox label {
    display: block;
    margin-bottom: 5px;
    margin-top: 5px;
    font-weight: 600;
    color: #4a90e2;
}

#inputBox input,
#inputBox select {
    width: 100%;
    padding: 8px;
    margin-bottom: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    box-sizing: border-box;
}

.inputBoxInput {
    width: 100%-16px;
}

.inputBoxSlider {
    padding: 0px;
}

#inputBox button {
    width: 100%;
    padding: 10px;
    background-color: #4169e1;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    margin-bottom: 10px;
}

#inputBox button:hover {
    background-color: #3a5cd0;
}

.inputBoxProgressContainer {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
}

.inputBoxProgressContainer label {
    flex: 0 0 150px;
    margin-bottom: 0;
}

.inputBoxProgressBar {
    flex: 1;
    height: 20px;
    background-color: #ddd;
    border-radius: 10px;
    overflow: hidden;
}

.inputBoxProgressBarFill {
    height: 100%;
    width: 0%;
    transition: width 0.3s ease;
}

.inputBoxTableContainer {
    margin-bottom: 10px;
}

.inputBoxTableContainer table {
    width: 100%;
    border-collapse: collapse;
}

.inputBoxTableContainer tr:nth-child(even) {
    background-color: #f0f8ff;
    /* f2f2f2;*/
}

.inputBoxTableContainer td {
    padding: 8px;
}

.inputBoxTableContainer td:first-child {
    font-weight: bold;
}

#inputBox .listContainer,
#inputBox .switchContainer {
    margin-bottom: 20px;
    background-color: #f0f8ff;
    padding: 15px;
    border-radius: 10px;
}

#inputBox .listContainer button,
#inputBox .switchContainer button {
    display: inline-block;
    width: auto;
    margin-right: 10px;
    margin-bottom: 10px;
    padding: 8px 12px;
    color: buttontext;
    background-color: #e0e0e0;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
}

#inputBox .listContainer button.selected,
#inputBox .switchContainer button.selected {
    background-color: #4a90e2;
    color: white;
}

#inputBox .groupContainer {
    margin-bottom: 10px;
    background-color: #f0f8ff;
    color: #4a90e2;
    cursor: pointer;
}

#inputBox .groupHeader {
    background-color: #f0f0f0;
    padding: 10px;
    cursor: pointer;
    user-select: none;
}

#inputBox .groupHeader : hover {
    background-color: #e6f3ff;
}

#inputBox .groupContent {
    display: none;
    padding: 10px;
    border: 1px solid #ddd;
}

#inputBox .collapsible {
    background-color: #f0f8ff;
    color: #4a90e2;
    cursor: pointer;
    transition: 0.4s;
}

#inputBox .collapsible:hover {
    background-color: #e6f3ff;
}

#inputBox .collapsible:after {
    content: '\002B';
    color: #4a90e2;
    font-weight: bold;
    float: right;
    margin-left: 5px;
}

#inputBox .active:after {
    content: "\2212";
}

#inputBox .content {
    padding: 0px 18px;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.2s ease-out;
    background-color: #f9f9f9;
    border-radius: 0 0 5px 5px;
}

.input-box-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 2000;
}

/* Royal Blue Scrollbar */
#inputBox::-webkit-scrollbar {
    width: 12px;
}

#inputBox::-webkit-scrollbar-track {
    background: #ffffff;
    border-radius: 10px;
}

#inputBox::-webkit-scrollbar-thumb {
    background: #4169E1;
    border-radius: 10px;
    border: 3px solid #ffffff;
}

#inputBox::-webkit-scrollbar-thumb:hover {
    background: #3151ac;
}
#inputBox .data-item {
    display: inline-block;
    background-color: #4169e1;
    color: white;
    padding: 5px 10px;
    margin: 3px;
    border-radius: 20px;
    font-size: 0.9em;
    transition: all 0.3s ease;
}
#inputBox .tableProgress {
    background-color: #d9d9d9;
    border-radius: 5px;
}

#inputBox .tableProgressBar {
    background-color: #2196F3;
    height: 20px;
    border-radius: 5px;
}
.scroll-area {
            display: flex;
            overflow-x: scroll;
            gap: 10px;
            padding: 10px 10px 0px 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .scroll-area button {
            flex-shrink: 0;
            width: 60px;
            height: 60px;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: white;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .scroll-area button:hover {
            transform: scale(1.1);
        }

        .scroll-area button.selected {
            border: 2px solid #3b82f6;
        }
.scroll-area::-webkit-scrollbar {
    height: 12px;
}

.scroll-area::-webkit-scrollbar-track {
    background: #ffffff;
    border-radius: 10px;
}

.scroll-area::-webkit-scrollbar-thumb {
    background: #4169E1;
    border-radius: 10px;
    border: 3px solid #ffffff;
}

scroll-area.::-webkit-scrollbar-thumb:hover {
    background: #3151ac;
}
#listView {
    position: fixed;
    bottom: -100%;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: white;
    transition: bottom 0.3s ease-out;
    display: flex;
    flex-direction: column;
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
}

#listView.open {
    bottom: 0;
}

#listViewHeader {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    background-color: #4a90e2;
    color: white;
}

#listViewCloseButton,
#listViewBackButton {
    font-size: 24px;
    cursor: pointer;
    background: none;
    border: none;
    color: white;
    padding: 0;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
}

#listViewTitle {
    font-size: 20px;
    font-weight: bold;
    flex-grow: 1;
    text-align: center;
}

#listViewItems {
    overflow-y: auto;
    flex-grow: 1;
}

#listView .listItem {
    display: flex;
    align-items: center;
    padding: 5px 10px;
    border-bottom: 1px solid #e0e0e0;
    cursor: pointer;
    transition: background-color 0.2s;
}

#listView .listItem:hover {
    background-color: #f5f5f5;
}

#listView .listItem.disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

#listView .itemIcon {
    font-size: 40px;
    margin-right: 15px;
    width: 35px;
    text-align: center;
}

#listView .itemContent {
    flex-grow: 1;
    margin: 10px;
}

#listView .itemTitle {
    font-weight: bold;
    margin-bottom: 4px;
}

#listView .itemDesc {
    color: #666;
    font-size: 14px;
    display: flex;
    align-items: center;
}

#listView .itemDescText {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    margin-right: 10px;
}

#listView .listViewProgressBar {
    flex-grow: 1;
    height: 8px;
    background-color: #e0e0e0;
    border-radius: 3px;
    overflow: hidden;
}

#listView .listViewProgressBar .listViewProgress {
    height: 100%;
    background-color: #4a90e2;
    transition: width 0.3s ease;
}

#listView .listViewProgress0 {
    background-color: #d9d9d9;
    border-radius: 5px;
}

#listView .listViewProgressBar0 {
    background-color: #2196F3;
    height: 20px;
    border-radius: 5px;
}

#listView .itemAction {
    font-size: 20px;
    color: #4a90e2;
}

#listView .separator {
    padding: 10px 20px;
    background-color: #f0f4f8;
    font-weight: bold;
    color: #4a90e2;
    font-size: 14px;
}
body {
    font-family: 'Roboto', Arial, sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    height: 100vh;
    background-color: #e6f3ff;
    color: #333;
    -webkit-user-select: none;
}
.triangle-right {
    width: 0;
    height: 0;
    border-top: 6px solid transparent;
    border-left: 8px solid #555;
    border-bottom: 6px solid transparent;
}
.triangle-left {
    width: 0;
    height: 0;
    border-top: 6px solid transparent;
    border-right: 8px solid #555;
    border-bottom: 6px solid transparent;

}
::-webkit-scrollbar {
    width: 12px;
}

::-webkit-scrollbar-track {
    background: #ffffff;
    border-radius: 10px;
}

::-webkit-scrollbar-thumb {
    background: #4169E1;
    border-radius: 10px;
    border: 3px solid #ffffff;
}

::-webkit-scrollbar-thumb:hover {
    background: #3151ac;
}

    </style>
</head>

<body>
    <div id="splash-screen">
        <svg id="splash-image" width="400" height="400" viewBox="0 0 512 512">
            <text style="font-size:192px;font-family:Impact;fill:#00ee22;stroke:#ff4511;stroke-width:3" x="118" y="264">Life
            </text>
            <text style="font-size:96px;font-family:Impact;fill:#eee500;stroke:#ff1111;stroke-width:3" x="190" y="352" style="font-size:96px;fill:#eee500;stroke:#ff1111">Craft</text>
        </svg>
    </div>
    <script>
        
async function fetchFile(url) {
    const response = await fetch(url);
    return await response.text();
}
window.onbeforeunload = function() {
    return 'Want to leave?';
}

function getRandom(max, min) {
    if (!min) min = 0;
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

function parseColor(color) {
    const r = parseInt(color.slice(1, 3), 16) / 255;
    const g = parseInt(color.slice(3, 5), 16) / 255;
    const b = parseInt(color.slice(5, 7), 16) / 255;
    return {
        r,
        g,
        b
    };
}
function isAndroid(){
	return typeof android !== 'undefined'
}
let uniqueIdCounter = 0;

function getUniqueID() {
    uniqueIdCounter++;
    return 'id-' + uniqueIdCounter;
}
async function loadAllAssets() {
    let scriptAssets = ['image-lib', 'home-window', "face-generator", "name-generator", "input-box", "list-view"];
    let styleAssets = ["style", 'home-window', "input-box", "list-view"];
    let gameAssets = ['isekai/main.js'];

    for (let scriptPath of scriptAssets) {
        const script = document.createElement('script');
        script.textContent = await fetchFile(`https://raw.githubusercontent.com/JassSidhu412/html-project/main/scripts/${scriptPath}.js`);
        document.body.appendChild(script);
    }

    for (let stylePath of styleAssets) {
        const style = document.createElement('style');
        style.textContent = await fetchFile(`https://raw.githubusercontent.com/JassSidhu412/html-project/main/styles/${stylePath}.css`);
        document.head.appendChild(style);
    }
    for (let scriptPath of gameAssets) {
        const script = document.createElement('script');
        script.textContent = await fetchFile(`https://raw.githubusercontent.com/JassSidhu412/html-project/main/games/${scriptPath}`);
        document.body.appendChild(script);
    }
}
let url = `https://raw.githubusercontent.com/JassSidhu412/html-project/main/scripts/core.js`;
async function loadAssets() {
    const response = await fetch(url);
    const Content = await response.text();
    const script = document.createElement('script');
    script.textContent = Content;
    document.body.appendChild(script);
    await loadAllAssets();

}
let aiFunctions=`let tx = document.getElementsByClassName("ql-editor textarea")[0];
let go = document.getElementsByClassName("send-button")[0];

let sc = document.getElementsByClassName("chat-history")[1];

function SendPrompt(text) {
    let previousResponse = null;
    return new Promise((resolve, reject) => {

        tx.textContent = text;
        setTimeout(function() {
            go.click();
            setTimeout(function() {
                const interval = setInterval(() => {
					let rs = sc.getElementsByClassName("model-response-text");
                    const response = rs[rs.length - 1].innerText; 
                    if (response && response === previousResponse) { 
                        clearInterval(interval); 
                        resolve(response);
                    }
                    previousResponse = response;
                }, 1000);
                setTimeout(() => {
                    clearInterval(interval);
                    reject(new Error('Timeout waiting for response'));
                }, 20000);
            }, 2000);
        }, 500);
    });
}
async function ask(text) {
    const response = await SendPrompt(text);
	alert(JSON.stringify(response));
    return response;
}`;
function initAI(){
	if(isAndroid()) android.aiEval(aiFunctions);
}



async function init() {
    //await loadAssets();
    const splashScreen = document.getElementById('splash-screen');
    const homeWindow = createHomeWindow();
    document.body.appendChild(homeWindow);

    const logArea = document.getElementById('logArea');
    const ageUpButton = document.getElementById('ageUpButton');

    // Add initial log entries
    logEntries.forEach(entry => addLogEntry(entry));

    // Simulate new events every 5 seconds
    setInterval(() => {
        const randomEntry = logEntries[Math.floor(Math.random() * logEntries.length)];
        //android.speak(randomEntry);
        addLogEntry(randomEntry);
    }, 5000);
    playerIcon = FaceGen.create(30, 'male', [1, 0, 0, 0]);

    // Age Up button functionality
    ageUpButton.addEventListener('click', ageUp);




    // Remove splash screen
    splashScreen.style.display = 'none';
	
}
function getAiResponse(json){
	addLogEntry(json);
}
let player = {
    name: 'Shinji',
    surname: 'Yamada',
    age: 15,
    skills: []
};
let game = {};
let data = {};
let savedGames = [];

data.save = function() {
    localStorage.setItem('data', JSON.stringify(data)); //data.vars=['player','npc','logs','year','game']
}
data.load = function() {
    data = JSON.parse(localStorage.getItem('data'));
}

function setIsekaiGame() {
    game.name = 'Isekai Life';
}




function showMenu() {
    ListView.open('Menu', menuList);
}
async function askQues(){
	initAI();
	let result = await InputBox.show(playerName, "", true, [
	{type:'text',id:'prompt',label:'Prompt'},
	{type:'text',id:'scr',label:'Script'},
	{type:'button',label:'Ask',id:'askButton'},
	{type:'button',label:'Eval',id:'evalButton'},
	{type:'button',label:'Hide',id:'hideButton'},
	{type:'button',label:'Cancel',id:'Cancel'}
	]);
	if(result.button=='askButton') android.aiEval(`ask("${result.prompt}")`);
	if(result.button=='evalButton') eval(result.scr);
	if(result.button=='evalButton') android.openAI();
}
//Get menu list for runtime
let menuList = [ListFolder('🧬','Start Life','Start a new life',() => {return gameList;}),
    {
        icon: '💾',
        title: 'Save Life',
        desc: 'Save current life',
        do: () => { askQues()}

    },
    {
        icon: '📖',
        title: 'Load Life',
        desc: 'Load a saved life',
        list: savedGames
    },
    {
        separator: 'Misc'
    },
    {
        icon: '⚙️',
        title: 'Settings',
        desc: 'Settings life',
        do: () => android.openAI()//pop('Under construction', 'This Feature will available in future.')
    },
];
let schoolRoomsList = [{
        icon: '🏫',
        title: 'Class',
        desc: 'Teaching room',
        do: () => {}
    },
    {
        icon: '👥',
        title: 'Staff Room',
        desc: 'Room for school staff',
        do: () => {}
    },
    {
        icon: '🏋️‍♀️',
        title: 'Gym',
        desc: 'Physical education room',
        list: () => {
            return [{
                    icon: '🗿️',
                    title: 'Gym Storeroom',
                    desc: 'Storage room for gym equipment',
                    do: () => {}
                },
                {
                    icon: '🏋️‍♂️',
                    title: 'Work out',
                    desc: 'Area for physical exercise',
                    do: () => {}
                },
                {
                    separator: 'Facilities'
                },
                {
                    icon: '💬',
                    title: 'Interaction',
                    desc: 'Area for socializing and relaxation',
                    do: () => {}
                },
            ]
        }
    },
    {
        icon: '🏟️',
        title: 'Sports Ground',
        desc: 'Outdoor sports area',
        list: () => {
            return [{
                    icon: '🤖',
                    title: 'Machine Room',
                    desc: 'Room for sports equipment and machinery',
                    do: () => {}
                },
                {
                    icon: '🏋️‍♂️',
                    title: 'Work out',
                    desc: 'Area for physical exercise and sports',
                    do: () => {}
                },
                {
                    separator: 'Facilities'
                },
                {
                    icon: '💬',
                    title: 'Interaction',
                    desc: 'Area for socializing and relaxation',
                    do: () => {}
                },
            ]
        }
    },
    {
        icon: '🏊‍♀️',
        title: 'Swimming Pool',
        desc: 'School swimming pool',
        do: () => {}
    },
    {
        icon: '🏥',
        title: 'Infirmery',
        desc: 'School medical room',
        do: () => {}
    },
];
let gameList = [{
        icon: '🌌',
        title: 'Isekai Life',
        desc: 'Step into another world and experience epic adventures beyond imagination.',
        do: () => {
            InputBox.show("Character Creation", '', true, isekai.getPlayerCreationControls());
        }
    },
    {
        icon: '🧙‍♂️',
        title: 'Fantasy Life',
        desc: 'An immersive world filled with magic, quests, and adventure.',
        do: () => pop('Under construction', 'This Feature will available in future.')
    },

    {
        icon: '🏫',
        title: 'School Life',
        desc: 'Relive the drama, friendships, and challenges of school days.',
        do: () => pop('Under construction', 'This Feature will available in future.')
    }
];
let school = {};
let fantasy = {};



function onBackButton() {
    if (InputBox.inputBox.style.display == 'block') {
        if (InputBox.allowCloseGlobal) InputBox.close();
    } else if (listView) {
        if (backButton.style.display == 'flex') ListView.goBack();
        else ListView.close();
    }
}

// Game state
let year = 10;
let money = 50000;
let playerName = "Shinji Yamada";
let playerJob = "Software Developer";
let playerIcon = 'X';

// Action buttons array
let actionButtons = [{
    text: "Occupation",
    action: 'alert(\'hello\')'
}, {
    text: "Assets",
    action: "alert('hello')"
}, {
    text: "Relationships",
    action: "alert('hello')"
}, {
    text: "Activites",
    action: "ListView.open('Activites',schoolRoomsList)"
}];
school.showAct = function() {
    ListView.show('Activites', schoolRoomsList);
}

// Stats bars array
let statBars = [{
        name: "Health",
        value: 80,
        color: "#FF6B6B"
    },
    {
        name: "Moral",
        value: 60,
        color: "#4ECDC4"
    },
    {
        name: "Charm",
        value: 70,
        color: "#45B7D1"
    },
    {
        name: "Strength",
        value: 50,
        color: "#F7B731"
    },
    {
        name: "Intelligence",
        value: 90,
        color: "#6C5CE7"
    }
];

// Sample log entries
const logEntries = [
    "You woke up at 7:00 AM",
    "You had breakfast: +10 Health",
    "You went to work: +200",
    "You had a great conversation with a coworker: +5 Charm",
    "You finished a challenging project: +10 Intelligence",
    "You hit the gym after work: +5 Strength",
    "You had dinner with friends: +15 Moral",
    "You read a book before bed: +5 Intelligence"
];

function showPlayerInfo() {
    //try{android.toast("hello");}catch(err){addLogEntry("Error " + err);}
    //try{android.speak("hello");}catch(err){addLogEntry("Error " + err);}
    //addLogEntry("List: "+Object.getOwnPropertyNames(android));
    InputBox.show(playerName, "", true, [{
        type: 'table',
        data: [
            ['Job', playerJob],
            ['Age', year],
            //Storage Path', android.getStoragePath()+'/h.html']//android.readFile(android.getStoragePath()+'/h.html')],
            //['User Agent', navigator.userAgent],
        ]
    },{type:'text',id:'prompt'},{type:'button',id:'askButton'},{type:'button',id:'Cancel'}
	]);
    //alert(`Player: ${playerName}\nJob: ${playerJob}\nAge: ${year} years old`);
}

function ageUp() {
    year++;
    addLogEntry("Year " + year, true);
}

function pop(title, desc) {
    InputBox.show(title, desc, true);
}


// Initialize the game when the DOM is fully loaded
document.addEventListener('DOMContentLoaded', init);let ChosenColors= ['#1F1F1F', '#555555', '#ACACAC', '#FAFAFA', '#0000FF', '#169EFF', '#167BFF', '#FFFF00', '#E1FF00', '#FFD000', '#FFA500', '#FFD050', '#FF6E00', '#FF3300', '#FF006A', '#FF0098', '#FF97D5', '#DD00FF', '#F092FF', '#D592FF', '#9000FF', '#37FF00', '#3DA303', '#205900', '#00FFF6', '#5D2500', '#8E5A37', '#BB874B', '#00FFB2'];
   /* //[  '#169EFF', '#167BFF', '#E1FF00', '#FFD000', '#FFA500', '#FFD050', '#FF6E00', '#FF3300', '#FF006A', '#FF0098', '#FF97D5', '#DD00FF','#F092FF', '#D592FF', '#9000FF', '#3DA303', '#205900', '#1F1F1F',  '#555555',  '#ACACAC',  '#FAFAFA',  '#00FFB2'],//['#000000', '#4B3621', "#FFD700", "#FF4500", "#0000FF", "#008000", "#FFC0CB", "#800080", "#FFFFFF", "#808080", "#C0C0C0", "#FFA500", "#008080"],
    eyesColors: ['#1F1F1F', '#555555', '#ACACAC', '#FAFAFA', '#0000FF', '#169EFF', '#167BFF', '#FFFF00', '#E1FF00', '#FFD000', '#FFA500', '#FFD050', '#FF6E00', '#FF3300', '#FF006A', '#FF0098', '#FF97D5', '#DD00FF', '#F092FF', '#D592FF', '#9000FF', '#37FF00', '#3DA303', '#205900', '#00FFF6', '#5D2500', '#8E5A37', '#BB874B', '#00FFB2'],
    //['#131313', '#616161', '#C5C5C5', '#EBEBEB', '#7A5544', '#793D21', '#CB2626', '#CB2686', '#CB26C3', '#8E26CB', '#5226CB', '#2691CB', '#26BDCB', '#26CB9C', '#26CB60', '#00A1FF', '#34CB26', '#8ECB26', '#429F00', '#C5CB26', '#CB9926', '#CB7026', '#FD9F24', '#E8DC00', '#FDD524', '#EEC2FF'],
    //["#000000", "#4B3621", "#0000FF", "#008000", "#FF0000", "#FFD700", "#C0C0C0", "#800080", "#FFC0CB", "#808080", "#FFFF00", "#FFA500", "#008080"]
*/
let FaceGen = {
    hairColors:ChosenColors,
	eyesColors:ChosenColors,
    male: {
        hairCount: 2,
        backHairCount: 1,
        hair: 0,
        backHair: 0,
        hairColor: 0,
        eyesColor: 0,
        count: [2, 1, ChosenColors.length, ChosenColors.length],
        current: [0, 0, 0, 0]

    },
    female: {
        hairCount: 5,
        backHairCount: 6,
        currentHair: 0,
        currentBackHair: 0,
        hairColor: 0,
        eyesColor: 0,
        count: [5, 6, ChosenColors.length, ChosenColors.length],
        current: [0, 0, 0, 0]
    },
    gender: 'male',
    create: function(size, gender, values) {
        let list = [];
        if (gender == 'female') list.push({
            url: `character/${gender}.backhair.${values[1]+1}.png`,
            overlay: FaceGen.hairColors[values[2]]
        });
        list.push({
            url: `character/${gender}.eyes.png`,
            overlay: FaceGen.eyesColors[values[3]]
        });
        list.push(`character/${gender}.face.png`);
        list.push({
            url: `character/${gender}.hair.${values[0]+1}.png`,
            overlay: FaceGen.hairColors[values[2]]
        });

        return IconGen.create(size, null, list, `display:block;margin:auto;`);
    },
    createControls : function() {
        FaceGen.createControl('hair', 'male', 0, 0);
        FaceGen.createControl('hairColor', 'male', 1, 2);
        FaceGen.createControl('eyesColor', 'male', 2, 3);
        FaceGen.createControl('hair', 'female', 3, 0);
        FaceGen.createControl('backHair', 'female', 4, 1);
        FaceGen.createControl('hairColor', 'female', 5, 2);
        FaceGen.createControl('eyesColor', 'female', 6, 3);
    },
    createControl: function(type, gender, index, typeInt) {
        let StyleArea = document.getElementById(`style-area-div-${index}`);
        StyleArea.innerHTML = '';
        for (let i = 0; i < this[gender].count[typeInt]; i++) {
            let button = document.createElement('button');
            button.style = `flex-shrink: 0;width: 60px;height: 60px;padding: 5px;border: 1px solid #ccc;border-radius: 5px;background-color: white;cursor: pointer;transition: all 0.3s;display: flex;align-items: center;justify-content: center;`;
            let values = this[gender].current.slice();
            values[typeInt] = i;
            if (this[gender].current[typeInt] == i) button.style.border = '2px solid #3b82f6';
            button.innerHTML = FaceGen.create(50, gender, values);
            button.setAttribute('onclick', `FaceGen.change('${gender}','${typeInt}',${i});`);
            StyleArea.appendChild(button);
        }
    },
    change: function(gender, type, i) {
        this[gender].current[type] = i;
        InputBox.Result.values = this[FaceGen.gender].current.slice();
        InputBox.Result.gender = FaceGen.gender;
        document.getElementById('face').innerHTML = FaceGen.create(300, gender, this[gender].current);
        FaceGen.createControls();
    },
    changeGender: function(s) {
        FaceGen.gender = s.split('-')[0];
        document.getElementById('face').innerHTML = FaceGen.getCurrentSVG();
        InputBox.changeSwitch('style', 'hair-option');
        FaceGen.showSection('hair-option');
        //FaceGen.createControls();
        //document.getElementById('hair-option').onclick();
        //if(FaceGen.gender=='male') FaceGen.showSection(0);
        //else FaceGen.showSection(3);
    },
    getCurrentSVG: function() {
        InputBox.Result.values = this[FaceGen.gender].current.slice();
        InputBox.Result.gender = FaceGen.gender;
        return FaceGen.create(300, FaceGen.gender, this[FaceGen.gender].current);
    },
    showSection: function(type) {
        let Styles = FaceGen.getStyleAreas();
        let num = 4;
        if (FaceGen.gender == 'female') document.getElementById('back-hair-option').style.display = 'inline-block';
        else document.getElementById('back-hair-option').style.display = 'none';
        if (type === 'hair-option')
            if (FaceGen.gender == 'female') num = 3;
            else num = 0;
        else if (type === 'Hair Color')
            if (FaceGen.gender == 'female') num = 5;
            else num = 1;
        else if (type === 'Eye Color')
            if (FaceGen.gender == 'female') num = 6;
            else num = 2;
        for (let i = 0; i < 7; i++) {
            if (num != i) Styles[i].style.display = 'none';
            else Styles[i].style.display = 'flex';
        }
    },
    getInputControls: function() {
        return [{
            type: 'custom',
            id: 'face',
            html: FaceGen.getCurrentSVG()
        }, {
            type: 'switch',
            id: 'style',
            label: 'Style',
            options: [{
                id: 'hair-option',
                text: 'Hair'
            }, {
                id: 'back-hair-option',
                text: 'Back Hair'
            }, 'Hair Color', 'Eye Color'],
            action: FaceGen.showSection
        }, {
            type: 'custom',
            id: 'faceButtons',
            html: FaceGen.getScrollAreaDivs(),
            callback: function() {
                FaceGen.createControls();
                //changeSwitch('gender',FaceGen.gender+'-option');
                FaceGen.changeGender(FaceGen.gender);
            }
        }, {
            type: 'switch',
            id: 'gender-option',
            label: 'Gender',
            options: [{
                text: 'Male',
                id: 'male-option'
            }, {
                text: 'Female',
                id: 'female-option'
            }],
            default: FaceGen.gender == 'male' ? 0 : 1,
            action: FaceGen.changeGender
        }];
    },
    getStyleAreas: function() {
        let list = [];
        for (let i = 0; i < 7; i++) {
            list.push(document.getElementById(`style-area-div-${i}`));
        }
        return list;
    },
    getScrollAreaDivs: function() {
        let s = '';
        for (let i = 0; i < 7; i++) {
            s += `<div class="scroll-area" id="style-area-div-${i}"></div>`;
        }
        return s;
    }
};
function createHomeWindow() {
    const homeWindow = document.createElement('div');
    homeWindow.id = 'home-window';
    homeWindow.innerHTML = `
                <div class="container">
				${isAndroid() ? '<div id="" class="top-bar"></div>' : ''}
                    <div class="top-bar">
                        <button class="menu-button" onclick="showMenu()">☰</button>
                        <div class="game-title">Life Simulator</div>
                        <div style="width: 24px;"></div>
                    </div>
                    <div class="player-bar">
                        <div class="player-info" onclick="showPlayerInfo()">
                            <span class="player-icon">${playerIcon}</span>
                            <div>
                                <div class="player-name">${playerName}</div>
                                <div class="player-job">${playerJob}</div>
                            </div>
                        </div>
                        <div class="money">💰 ${formatMoney(money)}</div>
                    </div>
                    <div class="log-area" id="logArea">
                        <!-- Log entries will be added here dynamically -->
                    </div>
                    <div class="stats-bar" ${isAndroid() ? 'style="padding-bottom: 30px"' : ''}>
                        <button class="age-up-button" id="ageUpButton">Age Up</button>
                        <div class="stats-content">
                            <div class="stat-bars">
                                ${statBars.map(stat => `
                                    <div class="stat-bar">
                                        <div class="stat-label" style="color: ${stat.color};">${stat.name}</div>
                                        <div class="stat-progress"><div class="stat-fill" style="width: ${stat.value}%; background-color: ${stat.color};"></div></div>
                                    </div>
                                `).join('')}
                            </div>
                            <div class="action-buttons">
                                ${actionButtons.map(button => `
                                    <button class="action-button" onclick="${button.action}">${button.text}</button>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `;
    return homeWindow;
}

function formatMoney(amount) {
    return amount.toLocaleString('en-US');
}

function addLogEntry(entry, isNextYear = false) {
    const logArea = document.getElementById('logArea');
    const logEntry = document.createElement('p');
    logEntry.textContent = entry;
    if (isNextYear) {
        logEntry.classList.add('next-year');
    }
    logArea.appendChild(logEntry);
    logArea.scrollTop = logArea.scrollHeight;

    // Update UI after adding log entry
    updateUI();
}

function updateUI() {
    // Update money
    const moneyElement = document.querySelector('#home-window .money');
    moneyElement.innerHTML = `💰 ${formatMoney(money)}`;

    // Update player info
    const playerNameElement = document.querySelector('#home-window .player-name');
    const playerJobElement = document.querySelector('#home-window .player-job');
    const playerIconElement = document.querySelector('#home-window .player-icon');
    playerNameElement.innerHTML = playerName;
    playerJobElement.innerHTML = playerJob;
    playerIconElement.innerHTML = playerIcon;

    // Update stat bars
    statBars.forEach((stat, index) => {
        const statFillElement = document.querySelectorAll('#home-window .stat-fill')[index];
        statFillElement.style.width = `${stat.value}%`;
    });
}
let IconGen = {
    dir: 'https://raw.githubusercontent.com/JassSidhu412/html-project/main/images/'
};
IconGen.create = function(size, id, images, style, bg) {
    let def = '';
    let imgs = '';
    for (let image of images) {
        if (typeof(image) == 'string') imgs += `<image width="512" height="512" href="${IconGen.dir+image}"/>`;
        else {
            let img = IconGen.dir + image.url;
            if (image.overlay) {
                overlayId = getUniqueID();
                let c = parseColor(image.overlay);
                def += `<filter id="overlay${overlayId}">
                    <feColorMatrix type="matrix" values="${c.r} 0 0 0 0 0 ${c.g} 0 0 0 0 0 ${c.b} 0 0 0 0 0 1 0"/>
                </filter>`;
                imgs += `<image width="512" height="512" href="${img}" filter="url(#overlay${overlayId})"/>`;
            } else imgs += `<image width="512" height="512" href="${img}"/>`;
        }
    }
    let background = '';
    if (def != '') def = '<def>' + def + '</def>';
    if (bg) background = `<rect width="512" height="512" fill="${bg}" />`;
    let Id = '';
    if (id) Id = `id="${id}" `;
    return `<svg ${Id}width="${size}" height="${size}" style="${style ??= ''}" viewBox="0 0 512 512">${def+imgs+background}</svg>`;
}
IconGen.createAnim = function(w, h, fps, images, end) {
    const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    svg.setAttribute("width", w);
    svg.setAttribute("height", h);
    svg.setAttribute("viewBox", `0 0 ${w} ${h}`);

    const frameCount = images.length;
    const frameDuration = 1000 / fps;

    // Create and append image elements
    images.forEach((src, index) => {
        const img = document.createElementNS("http://www.w3.org/2000/svg", "image");
        img.setAttributeNS("http://www.w3.org/1999/xlink", "href", src);
        img.setAttribute("width", w);
        img.setAttribute("height", h);
        img.setAttribute("opacity", index === 0 ? "1" : "0");
        svg.appendChild(img);
    });

    // Animation function
    let currentFrame = 0;
    let intervalId;

    function animate() {
        const frames = svg.children;
        frames[currentFrame].setAttribute("opacity", "0");
        currentFrame = (currentFrame + 1) % frameCount;
        frames[currentFrame].setAttribute("opacity", "1");

        if (end === true && currentFrame === frameCount - 1) {
            clearInterval(intervalId);
        } else if (typeof end === 'function' && currentFrame === frameCount - 1) {
            clearInterval(intervalId);
            end();
        }
    }

    // Start animation
    intervalId = setInterval(animate, frameDuration);

    return svg;
}
let InputBox = {
    Result: {},
    allowCloseGlobal: false,
    inputBox: document.createElement('div'),
    overlay: document.createElement('div'),

    init: function() {
        InputBox.overlay.id = "input-box-overlay";
        InputBox.overlay.className = "input-box-overlay";
        InputBox.inputBox.id = "inputBox";
        InputBox.inputBox.innerHTML = `<h2 id="inputBoxTitle"></h2>
        <p id="inputBoxDesc"></p>
        <div id="inputBoxControls"></div>`;
        document.body.appendChild(InputBox.overlay);
        document.body.appendChild(InputBox.inputBox);
    },


    show: function(title, desc, allowClose, controls, onClose) {
        return new Promise((resolve) => {

            const inputBoxTitle = document.getElementById('inputBoxTitle');
            const inputBoxDesc = document.getElementById('inputBoxDesc');
            const inputBoxControls = document.getElementById('inputBoxControls');

            inputBoxTitle.textContent = InputBox.getText(title);
            inputBoxDesc.textContent = InputBox.getText(desc);
            inputBoxControls.innerHTML = '';
            InputBox.Result = {};
            InputBox.allowCloseGlobal = allowClose;

            if (controls == undefined) controls = [];
            if (allowClose === undefined) allowClose = true;

            controls.forEach((control) => {
                switch (control.type) {
                    case 'text':
                    case 'number':
                        inputBoxControls.innerHTML += `
                                <label for="${control.id}">${InputBox.getText(control.label)}</label>
                                <input type="${control.type}" id="${control.id}" name="${control.id}" 
                                    value="${control.type === 'number' && (control.default === undefined || control.default === 0) ? 0 : control.default || ''}"
                                    ${control.min !== undefined ? `min="${control.min}"` : ''}
                                    ${control.max !== undefined ? `max="${control.max}"` : ''}
                                    onchange="InputBox.validateNumberInput(this)">
                            `;
                        break;
                    case 'select':
                        const options = control.options.map((option) => `<option value="${option}">${option}</option>`).join('');
                        inputBoxControls.innerHTML += `
                                <label for="${control.id}">${InputBox.getText(control.label)}</label>
                                <select id="${control.id}" name="${control.id}">
                                    ${options}
                                </select>
                            `;
                        break;
                    case 'button':
                        inputBoxControls.innerHTML += `
                                <button onclick="handleButtonClick('${control.id}')">${InputBox.getText(control.label)}</button>
                            `;
                        break;
                    case 'label':
                        let val = '';
                        if (control.value) val = `: <span style="font-weight: normal;">${control.value}</span>`;
                        inputBoxControls.innerHTML += `
                                <label>${InputBox.getText(control.text)}${val}</label>
                            `;
                        break;
                    case 'progress':
                        inputBoxControls.innerHTML += `
                                <div class="inputBoxProgressContainer">
                                    <label for="${control.id}">${InputBox.getText(control.label)}</label>
                                    <div id="${control.id}" class="inputBoxProgressBar">
                                        <div class="inputBoxProgressBarFill"></div>
                                    </div>
                                </div>
                            `;
                        InputBox.updateProgressBar(control.id, control.value, control.max, control.reverse);
                        break;
                    case 'slider':
                        inputBoxControls.innerHTML += `
                                <label for="${control.id}">${InputBox.getText(control.label)}</label>
                                <input style="padding : 0px;" type="range" id="${control.id}" name="${control.id}" 
                                    min="${control.min}" max="${control.max}" value="${control.default}">
                            `;
                        break;
                    case 'table':
                        const rows = control.data.map((row) => (row[1] === undefined || (Array.isArray(row[1]) && row[1].length === 0) ? '' : `
                                <tr>
                                    <td>${row[0]}</td>
                                    ${getTd(row[1])}
                                </tr>
                            `)).join('');
                        inputBoxControls.innerHTML += `
                                <div class="inputBoxTableContainer">
                                    <table>
                                        ${rows}
                                    </table>
                                </div>
                            `;
                        // <td class="${Array.isArray(row[1]) ? 'data-item' : ''}">${row[1]}</td>
                        break;
                    case 'list':
                        let mx = ` (Max: ${control.maxSelect})`;
                        if (!control.maxSelect || control.maxSelect == 1000) {
                            mx = '';
                            control.maxSelect = 1000;
                        }

                        const listItems = control.options.map((option) => `
                                <button onclick="InputBox.toggleListSelection('${control.id}', '${option}', ${control.maxSelect})">${option}</button>
                            `).join('');
                        inputBoxControls.innerHTML += `
                                <div class="listContainer">
                                    <label>${control.label}${mx}</label>
                                    <div id="${control.id}">
                                        ${listItems}
                                    </div>
                                </div>
                            `;
                        break;
                    case 'switch':
                        if (!control.default) control.default = 0;
                        const switchItems = control.options.map((option) => InputBox.getSwitchOption(control, option)).join('');
                        inputBoxControls.innerHTML += `
                                <div class="switchContainer">
                                    <label>${control.label}</label>
                                    <div id="${control.id}">
                                        ${switchItems}
                                    </div>
                                </div>
                            `;
                        let num = 0;

                        if (control.default < control.options.length || control.default > 0) num = control.default;

                        InputBox.toggleSwitchSelection(control.id, control.options[num]);
                        const el = document.getElementById(control.id);
                        el.children[num].classList.add('selected');
                        break;
                    case 'custom':
                        inputBoxControls.innerHTML += `<div id="${control.id}" style="margin-bottom: 10px;">${InputBox.getText(control.html)}</div>`;
                        if (typeof(control.callback) === 'function') control.callback();
                        break;
                }
            });

            InputBox.inputBox.style.display = 'block';
            InputBox.overlay.style.display = 'block';

            function getTd(data) {
                if (Array.isArray(data)) {
                    let s = '<td>';
                    for (item of data) {
                        if (typeof item === 'object' && item !== null) {
                            let bg = ';';
                            if (item.color) bg = `background-color:${item.color??=''};`;
                            s += `<span class="data-item" style="${bg}${item.style??=''}">${item.text}</span>`;
                        } else
                            s += `<span class="data-item">${item}</span>`;
                    }
                    return `${s}</td>`;
                } else if (typeof data === 'object' && data !== null) return `<td><div class="tableProgress"><div class="tableProgressBar" style="width:${data.value/data.max*100}%;background-color:${data.color??=''}"></div></div></td>`; //`<td><progress value="${data.value}" max="${data.max}"/></td>`;
                return `<td>${data}</td>`;
            }

            function closeInputBox() {
                InputBox.inputBox.scrollTop = 0;
                InputBox.inputBox.style.display = 'none';
                InputBox.overlay.style.display = 'none';
                if (typeof onClose == 'function') onClose();
                resolve(InputBox.Result);
            }

            InputBox.close =function(){
                if (allowClose) {
                    const buttons = inputBoxControls.querySelectorAll('button');
                    if (buttons.length > 0) {
                        buttons[buttons.length - 1].click();
                    } else {
                        closeInputBox();
                    }
                }
                
            }
            InputBox.overlay.onclick = InputBox.close

            window.handleButtonClick = (buttonId) => {
                InputBox.Result.button = buttonId;
                const inputs = inputBoxControls.querySelectorAll('input, select');
                inputs.forEach((input) => {
                    InputBox.Result[input.name] = input.value;
                });

                closeInputBox();
            };
        });
    },
    

    updateProgressBar: function(id, value, max, reverse = false) {
        const progressBar = document.getElementById(id);
        const progressBarFill = progressBar.querySelector('.inputBoxProgressBarFill');
        const percentage = (value / max) * 100;
        progressBarFill.style.width = `${percentage}%`;

        let color;
        if (reverse) {
            if (percentage >= 80) color = 'red';
            else if (percentage <= 20) color = 'green';
            else color = 'yellow';
        } else {
            if (percentage >= 80) color = 'green';
            else if (percentage <= 20) color = 'red';
            else color = '#4169e1'; // Royal Blue
        }
        progressBarFill.style.backgroundColor = color;
    },

    validateNumberInput: function(input) {
        const min = parseInt(input.min);
        const max = parseInt(input.max);
        const value = parseInt(input.value);

        if (value < min) input.value = min;
        if (value > max) input.value = max;
    },

    toggleListSelection: function(listId, option, maxSelect) {
        const button = event.target;
        const container = document.getElementById(listId);
        const selectedButtons = container.querySelectorAll('button.selected');

        if (button.classList.contains('selected')) {
            button.classList.remove('selected');
        } else if (selectedButtons.length < maxSelect) {
            button.classList.add('selected');
        } else {
            alert(`You can only select up to ${maxSelect} items.`);
        }

        // Update InputBox.Result
        InputBox.Result[listId] = Array.from(container.querySelectorAll('button.selected')).map((btn) => btn.textContent);
    },

    getSwitchOption: function(control, option) {
        let id = '';
        let style = '';
        let text = option;
        let Id = option;
        if (typeof(option) == 'object') {
            if (option.id) {
                id = ` id="${option.id}"`;
                Id = option.id
            }
            if (option.style) style = ` style="${option.style}"`;
            text = option.text;
        }
        return `<button${id+style} onclick="InputBox.toggleSwitchSelection('${control.id}', '${Id}',${control.action})">${text}</button>`;
    },

    toggleSwitchSelection: function(switchId, option, action) {
        const button = event.target;
        const container = document.getElementById(switchId);
        const buttons = container.querySelectorAll('button');
        if (typeof(action) === 'function') action(option);
        buttons.forEach((btn) => btn.classList.remove('selected'));
        button.classList.add('selected');

        // Update InputBox.Result
        InputBox.Result[switchId] = typeof option == 'string' ? option : option.id;
    },

    changeSwitch: function(switchId, option, button) {
        if (typeof(button) == 'string') button = document.getElementById(button)
        if (!button) button = document.getElementById(option);
        const container = document.getElementById(switchId);
        const buttons = container.querySelectorAll('button');
        buttons.forEach((btn) => btn.classList.remove('selected'));
        button.classList.add('selected');
        InputBox.Result[switchId] = typeof option == 'string' ? option : option.id;
    },

    getText: function(text) {
        return text;
    }
};
InputBox.init();
function InputButton(id,text){
	if(!text) text = id;
	return {type:'button',label:text,id:id}
}
function InputText(id,text){
	if(!text) text = id;
	return {type:'text',label:text,id:id}
}let listView, closeButton, backButton, listTitle, listItems;

let history = [];

const ListView = {
    open: function(title, items) {
        this.createListView();
        listViewTitle.textContent = this.getText(title);
        this.renderItems(items);
        listView.classList.add('open');
    },
    close: function() {
        listView.classList.remove('open');
        history = [];
        this.removeListView();
    },
    goBack: function() {
        if (history.length > 0) {
            const prevState = history.pop();
            this.open(prevState.title, prevState.items);
            this.updateBackButton();
        }
    },
    getText: function(text){
        return text;
    },
    createListView: function() {
        if (!listView) {
            listView = document.createElement('div');
            listView.id = 'listView';
            listView.innerHTML = `
                        <div id="listViewHeader">
                            <button id="listViewCloseButton" style="font-size:32px;">×</button>
                            <button id="listViewBackButton" style="display: none;"><div class="triangle-left" style="border-right-color:#eee;"></div></button>
                            <span id="listViewTitle"></span>
                        </div>
                        <div id="listViewItems"></div>
                    `;
            document.body.appendChild(listView);

            closeButton = document.getElementById('listViewCloseButton');
            backButton = document.getElementById('listViewBackButton');
            listTitle = document.getElementById('listViewTitle');
            listItems = document.getElementById('listViewItems');

            closeButton.addEventListener('click', () => ListView.close());
            backButton.addEventListener('click', () => ListView.goBack());
        }
    },
    removeListView: function() {
        if (listView) {
            document.body.removeChild(listView);
            listView = null;
        }
    },
    updateBackButton: function() {
        if (history.length > 0) {
            closeButton.style.display = 'none';
            backButton.style.display = 'flex';
        } else {
            closeButton.style.display = 'flex';
            backButton.style.display = 'none';
        }
    },

    renderItems: function(items) {
        listItems.innerHTML = '';
        items.forEach(item => {
            if (item.separator) {
                const separator = document.createElement('div');
                separator.className = 'separator';
                separator.textContent = this.getText(item.separator);
                listItems.appendChild(separator);
                return;
            }

            const hide = typeof item.hide === 'function' ? item.hide() : item.hide;
            if (hide) return;

            const disable = typeof item.disable === 'function' ? item.disable() : item.disable;

            const listItem = document.createElement('div');
            listItem.className = 'listItem' + (disable ? ' disabled' : '');
            //let descHTML;
            //if (typeof item.desc === 'object' && item.desc !== null) descHTML = `<div><div class="itemDesc">${item.desc.text}</div><div class="listViewProgress"><div class="listViewProgressBar" style="width:${item.desc.value/item.desc.max*100}%;background-color:${item.desc.color??=''}"></div></div></div>`;
            //else descHTML = `<div class="itemDesc">${item.desc}</div>`;
            let descContent = '';
                if (typeof item.desc === 'object' && item.desc.text && item.desc.value !== undefined) {
                    const max = item.desc.max || 100;
                    const percentage = (item.desc.value / max) * 100;
                    descContent = `
                        <div class="itemDesc">
                            <span class="itemDescText">${this.getText(item.desc.text)}</span>
                            <div class="listViewProgressBar">
                                <div class="listViewProgress" style="width: ${percentage}%"></div>
                            </div>
                        </div>
                    `;
                } else {
                    descContent = `<div class="itemDesc">${this.getText(item.desc)}</div>`;
                }
            listItem.innerHTML = `
                    <span class="itemIcon">${item.icon}</span>
                    <div class="itemContent">
                        <div class="itemTitle">${this.getText(item.title)}</div>
                        ${descContent}
                    </div>
                    <span class="itemAction">${item.list ? '<div class="triangle-right" style="border-left-color:#4a90e2;"></div>' : item.do ? '⋮' : ''}</span>
                `;//→
            if (!disable) {
                listItem.addEventListener('click', () => {
                    if (item.do) {
                        item.do();
                    } else if (item.list) {
                        history.push({
                            title: listTitle.textContent,
                            items: items
                        });
                        this.updateBackButton();
                        const newItems = typeof item.list === 'function' ? item.list() : item.list;
                        ListView.open(item.title, newItems);
                    }
                });
            }
            listItems.appendChild(listItem);
        });
    }
};
function ListItem(icon,title,desc,action){
	return {icon: icon,title:title,desc: desc,do: action}
}
function ListFolder(icon,title,desc,list){
	return {icon: icon,title:title,desc: desc,list: list}
}
function ListSep(text){
	return {separator:text}
}jap1 = ["Akahito", "Akeno", "Aki", "Akihiro", "Akihisa", "Akihito", "Akikazu", "Akinari", "Akinori", "Akio", "Akio", "Akira", "Amane", "Anzai", "Arata", "Arinori", "Aritomo", "Ashihei", "Atasuke", "Atshushi", "Atsumichi", "Atsumori", "Atsutane", "Azumamaro", "Baiko", "Bairei", "Bakin", "Basho", "Benjiro", "Benkei", "Bokkai", "Botan", "Buncho", "Bunjiro", "Bunrakuken", "Bunzo", "Bussho", "Chikafusa", "Chikao", "Chiko", "Chojiro", "Chomei", "Chuichi", "Dai", "Daisetsu", "Daisuke", "Danjuro", "Danno", "Dayu", "Denbe", "Doi", "Dokuohtei", "Doppo", "Ebizo", "Eichi", "Eichiro", "Eien", "Eiichi", "Eiji", "Eijiro", "Eikichi", "Eisaku", "Eisen", "Eishi", "Eisuke", "Eitoku", "Eizan", "Eizo", "Ekiken", "Ennosuke", "Etsuya", "Fujimaro", "Fujio", "Fukusaburu", "Fumiaki", "Fumihiko", "Fumihiro", "Fumimaro", "Fumio", "Gaho", "Gekko", "Gempachi", "Gengyo", "Genichi", "Genjo", "Gennai", "Gennosuke", "Genpaku", "Gesshin", "Gidayu", "Gihei", "Giichi", "Gonkuro", "Gonshiro", "Goro", "Gyokusho", "Gyukudo", "Hachemon", "Hachigoro", "Hachiro", "Hajime", "Hakuseki", "Hanshiro", "Haranobu", "Haru", "Haru", "Haruhiko", "Haruhiro", "Haruki", "Haruko", "Harumi", "Harunobu", "Hayato", "Heihachiro", "Heiji", "Heikichi", "Heizo", "Hideaki", "Hidehira", "Hidekazu", "Hideki", "Hidemichi", "Hideo", "Hidetada", "Hidetora", "Hidetoshi", "Hidetsugu", "Hideyori", "Hideyoshi", "Higashikuni", "Hikaru", "Hikosaburo", "Hikozaemon", "Hiro", "Hiroaki", "Hirobumi", "Hirofumi", "Hiroharu", "Hirohisa", "Hiroji", "Hirokazu", "Hirokichi", "Hirokumi", "Hiroshi", "Hiroshige", "Hirotada", "Hirotaka", "Hirotsugu", "Hiroya", "Hiroyasu", "Hiroyuki", "Hisahsi", "Hisaki", "Hisamitsu", "Hisanobu", "Hisashi", "Hisato", "Hisayuki", "Hitomaro", "Hitoshi", "Hogai", "Hoitsu", "Hokichi", "Hokusai", "Honzo", "Horiuchi", "Hoshi", "Hoshiko", "Hyobe", "Hyosuke", "Hyotaru", "Ichibei", "Ichiro", "Ichisake", "Ichiyo", "Ichizo", "Iemitsu", "Iemochi", "Ienobu", "Iesada", "Ieshige", "Ietsuna", "Ieyasu", "Ieyoshi", "Ikemoto", "Ikki", "Ikku", "Inejiro", "Ippei", "Isamu", "Isao", "Isei", "Isoruko", "Isoshi", "Iwane", "Iwao", "Izo", "Izumo", "Jakuchu", "Jin", "Jinzaburo", "Jiro", "Jo", "Joben", "Joji", "Jomei", "Josuke", "Jotaro", "Jou", "Juichi", "Jun", "Junichi", "Junichiro", "Junji", "Junnosuke", "Junzo", "Juro", "Jurobei", "Juzaburo", "Juzo", "Kado", "Kadonomaro", "Kaemon", "Kafu", "Kagehisa", "Kagetoki", "Kageyasu", "Kaii", "Kakuei", "Kakuzo", "Kamatari", "Kamlyn", "Kan", "Kanbe", "Kane", "Kaneie", "Kanezane", "Kanjiro", "Kanko", "Kannon", "Kano", "Kansuke", "Kantaro", "Kanzaburo", "Kaori", "Kaoru", "Kata", "Katai", "Katsuhiko", "Katsuhito", "Katsumi", "Katsumoto", "Katsunan", "Katsunosuki", "Katsuyoshi", "Katsuyuki", "Katzumi", "Kawanari", "Kazu", "Kazuhiko", "Kazuhiro", "Kazuki", "Kazuko", "Kazuma", "Kazunori", "Kazuo", "Kazushi", "Kazushige", "Kazutoshi", "Kazuyuki", "Kei", "Keiji", "Keiki", "Keishi", "Keisuke", "Keita", "Keitaro", "Keizo", "Ken", "Kenichi", "Kenji", "Kenji", "Kenji", "Kenjiro", "Kenkichi", "Kenko", "Kensaku", "Kenshin", "Kentaro", "Kenzaburo", "Kenzan", "Kenzo", "Kichibei", "Kichisaburo", "Kiemon", "Kiichi", "Kijuro", "Kikaku", "Kikugoro", "Kikunojo", "Kimi", "Kiminobu", "Kimitada", "Kin", "Kingo", "Kinji", "Kinmochi", "Kinnojo", "Kinnosuke", "Kinzo", "Kioshi", "Kisho", "Kitahachi", "Kiyoemon", "Kiyohira", "Kiyohisa", "Kiyomasu", "Kiyomori", "Kiyonaga", "Kiyonobu", "Kiyonori", "Kiyoshi", "Kiyotaka", "Koan", "Kobo", "Koetsu", "Kohei", "Koichi", "Koin", "Koji", "Kojiro", "Kojuro", "Kokan", "Kokei", "Koki", "Kokushi", "Konosuke", "Konoye", "Konyo", "Korechika", "Korekiyo", "Korenaga", "Korin", "Koryusai", "Kosaku", "Kosami", "Koshiro", "Kosho", "Kotaro", "Koto", "Koyo", "Kozue", "Kuemon", "Kuma", "Kumanosuke", "Kuniaki", "Kunihiko", "Kunimatsu", "Kunimichi", "Kunio", "Kunisada", "Kunitaro", "Kuniyoshi", "Kuniyuki", "Kuri", "Kyoden", "Kyoichi", "Kyoji", "Kyoshi", "Kyuichi", "Kyushichi", "Kyuso", "Kyuwa", "Mabuchi", "Magobei", "Magohachi", "Makoto", "Mamoru", "Manabu", "Manobu", "Manzo", "Mareo", "Maresuke", "Marihito", "Maris", "Marise", "Maro", "Masaaki", "Masafumi", "Masaharu", "Masahide", "Masahiko", "Masahiro", "Masakado", "Masakazu", "Masaki", "Masami", "Masamichi", "Masamune", "Masanobu", "Masanori", "Masao", "Masaru", "Masashi", "Masashige", "Masatake", "Masato", "Masayoshi", "Masayuki", "Masazumi", "Mashai", "Mashashi", "Mashiro", "Masu", "Masuhiro", "Masujiro", "Masutaro", "Matabei", "Matashichi", "Matsu", "Matsudaira", "Matsuo", "Matsusuke", "Matsuta", "Matsuyo", "Meiji", "Michihiro", "Michinaga", "Michinori", "Michio", "Michizane", "Mieko", "Miki", "Mikio", "Minoru", "Misao", "Mito", "Mitsuharu", "Mitsuhide", "Mitsukuni", "Mitsunari", "Mitsuo", "Mitsuoki", "Mitsuzuka", "Miyazaki", "Miyoko", "Mobumasu", "Mochihito", "Mokichi", "Mokuami", "Momoru", "Montaro", "Monzaemon", "Morie", "Morihiro", "Morimasa", "Morio", "Moromao", "Moronobu", "Motoichi", "Motoki", "Motonobu", "Motoshige", "Mototsune", "Motoyasu", "Motoyuki", "Munemitsu", "Munemori", "Munenori", "Muneyaki", "Munoto", "Murai", "Mushanokoji", "Mutsohito", "Naganori", "Naizen", "Nakamaro", "Nakazo", "Namboku", "Nampo", "Naoaki", "Naofumi", "Naohiro", "Naoki", "Naoko", "Naomichi", "Naonobu", "Naosuke", "Naoya", "Naozane", "Narahiko", "Nariaki", "Nariakira", "Narihari", "Narihira", "Naruhiko", "Natsu", "Natsume", "Natsuo", "Nichiren", "Nikki", "Nikko", "Ninsei", "Niou", "Nissho", "Noboru", "Nobuatsu", "Nobuharu", "Nobuhiko", "Nobuhisa", "Nobuhito", "Nobukazu", "Nobuo", "Noburo", "Nobusuke", "Nobuyoki", "Nobuyori", "Nobuyoshi", "Nori", "Noriaki", "Norihide", "Norihisa", "Norinaga", "Norio", "Norishige", "Noritada", "Noritoshi", "Noriyori", "Noriyuki", "Norogumi", "Oda", "Ogai", "Okakura", "Okitsugu", "Okura", "Okyoito", "Omezo", "Oniji", "Orinosuke", "Osamu", "Otojiro", "Rai", "Raidon", "Razan", "Rei", "Reijiro", "Reizo", "Renjiro", "Renzo", "Rikiya", "Rikyu", "Ringo", "Rinji", "Rintaro", "Rkuemon", "Robun", "Roka", "Roku", "Rosanjin", "Ryo", "Ryobe", "Ryoichi", "Ryoko", "Ryoma", "Ryosei", "Ryozo", "Ryu", "Ryuichi", "Ryunosuke", "Ryushi", "Ryutaro", "Ryuzaburo", "Saburo", "Sachi", "Sachio", "Sadaharu", "Sadahige", "Sadakuno", "Sadanobu", "Sadao", "Sadatake", "Sadayoshi", "Saemon", "Saikaku", "Saionji", "Sakutaro", "Samba", "Saneatsu", "Sanetomo", "Sanjiro", "Sanjuro", "Sanraku", "Sanzo", "Satoru", "Satoshi", "Sawao", "Seibei", "Seiesnsui", "Seihachi", "Seiho", "Seiichi", "Seiji", "Seika", "Seiki", "Seinosuke", "Seiryo", "Seishiro", "Seishisai", "Seison", "Seitaro", "Sekien", "Sen", "Senichi", "Senzo", "Sessue", "Settan", "Sharaku", "Shiba", "Shichirobei", "Shigeaki", "Shigekazu", "Shigeki", "Shigeko", "Shigemasa", "Shigematsu", "Shigemori", "Shigenaga", "Shigenobu", "Shigeru", "Shigetaka", "Shigetoki", "Shigochiyo", "Shihei", "Shihi", "Shijo", "Shiki", "Shiko", "Shimei", "Shimpei", "Shingen", "Shinichi", "Shinji", "Shinkichi", "Shino", "Shinobu", "ShinriKiyaru", "Shinsaku", "Shinsui", "Shintaro", "Shinzaburo", "Shinzo", "Shirai", "Shiro", "Shirosama", "Shizue", "Sho", "Shoda", "Shogo", "Shohei", "Shoichi", "Shoin", "Shoji", "Shojiro", "Shoko", "Shoraku", "Shosuke", "Shotaro", "Shoyo", "Shozaburo", "Shozo", "Shuichi", "Shuji", "Shukishi", "Shuko", "Shumei", "Shumkichi", "Shun", "Shunâ€™en", "Shuncho", "Shungyosai", "Shunichi", "Shunji", "Shunko", "Shunmyo", "Shunsen", "Shunsho", "Shunso", "Shunsuke", "Shusake", "Shusaku", "Shusui", "Shuzo", "Soetsu", "Sofu", "Soh", "Soichiro", "Sojuro", "Sorai", "Sosa", "Soseki", "Soshitsu", "Soshu", "Sosuke", "Sotan", "Sotaro", "Sotatsu", "Sozen", "Sozui", "Ssekien", "Subaru", "Suezo", "Sugimoto", "Sugita", "Sukejuro", "Sukenobu", "Suketsune", "Sukeyasu", "Sumio", "Sumiteru", "Sumitomo", "Susumu", "Suzu", "Suzu", "Tabito", "Tadahisa", "Tadakuni", "Tadamasa", "Tadamichi", "Tadao", "Tadashi", "Tadasu", "Tadasuke", "Tadataka", "Tadayoshi", "Tadayuki", "Tadiyuki", "Taheiji", "Taikan", "Taisho", "Taisuke", "Taji", "Takaaki", "Takafumi", "Takahashi", "Takahiro", "Takakazu", "Takamasa", "Takamori", "Takamuku", "Takanibu", "Takanobu", "Takanori", "Takao", "Takashi", "Takauji", "Takayuki", "Takechi", "Takehide", "Takeichi", "Takeji", "Takejiro", "Takenao", "Takeo", "Takeru", "Takeshi", "Takesi", "Taki", "Takiji", "Takuboku", "Takuji", "Takuma", "Takuro", "Takuya", "Tamasaburo", "Tamasine", "Tameyoshi", "Tamotsu", "Tamuramaro", "Tanak", "Tango", "Tanjiro", "Tanosuke", "Tanyu", "Tanzan", "Taro", "Taro", "Taroemon", "Tarozaemon", "Tashiaki", "Tashiro", "Tasuku", "Tatsui", "Tatsukichi", "Tatsuya", "Tatsuzo", "Taysuke", "Teiji", "Teijo", "Teika", "Teiljo", "Teinosuke", "Tekkan", "Tenshin", "Terao", "Teriuihi", "Terumoto", "Teruo", "Tessai", "Tetsu", "Tetsuhiko", "Tetsui", "Tetsunori", "Tetsuo", "Tetsuya", "Tetsuyuki", "Tetsuzan", "Thoki", "Tobei", "Togai", "Tohaku", "Toichi", "Toin", "Toju", "Tokaji", "Toki", "Tokichiro", "Tokimasa", "Tokimune", "Tokugawa", "Tokuhei", "Tokuma", "Tokutomi", "Tomeo", "Tomiichi", "Tomiji", "Tomoaki", "Tomohiko", "Tomokazu", "Tomomi", "Tomoyuki", "Ton", "Torajiro", "Torazo", "Torio", "Toru", "Toshi", "Toshiaki", "Toshiharu", "Toshikasu", "Toshikazu", "Toshiki", "Toshikuni", "Toshimichi", "Toshinobu", "Toshiro", "Toshitsugu", "Toshiyuki", "Toson", "Totoya", "Toyoaki", "Toyoharu", "Toyokazu", "Toyokuni", "Toyonobu", "Toyoshige", "Toyotomi", "Toyozo", "Tsugahara", "Tsugiharu", "Tsuginori", "Tsugumichi", "Tsukasa", "Tsumemasa", "Tsunayoshi", "Tsuneari", "Tsuneo", "Tsunesaburo", "Tsuneyo", "Tsuramatsu", "Tsurayaki", "Tsuruki", "Tsutomu", "Tsuyoshi", "Udo", "Ukon", "Ukyo", "Unkei", "Utaemon", "Utamara", "Utamuro", "Utemaro", "Waotaka", "Washi", "Washichi", "Yachi", "Yaichiro", "Yajirobei", "Yakamochi", "Yakumo", "Yamato", "Yasotaro", "Yasuhide", "Yasuhiko", "Yasuhiro", "Yasujiro", "Yasukazu", "Yasunari", "Yasunobu", "Yasuo", "Yasuoka", "Yasushi", "Yasutake", "Yasutoki", "Yasuyuki", "Yataro", "Yatsuhiro", "Yodo", "Yohachi", "Yoichi", "Yoichibei", "Yoriie", "Yorikane", "Yoringa", "Yoritoki", "Yoritomo", "Yoriyoshi", "Yoriyuki", "Yosai", "Yoshi", "Yoshiaga", "Yoshiaki", "Yoshida", "Yoshifumi", "Yoshifusa", "Yoshihide", "Yoshihiro", "Yoshihisa", "Yoshihito", "Yoshii", "Yoshiiku", "Yoshikazu", "Yoshiki", "Yoshimasa", "Yoshimatsu", "Yoshimi", "Yoshimitsu", "Yoshimochi", "Yoshimune", "Yoshinaka", "Yoshino", "Yoshinobu", "Yoshinori", "Yoshio", "Yoshisada", "Yoshitaka", "Yoshitake", "Yoshiteru", "Yoshitoki", "Yoshitomo", "Yoshitora", "Yoshitoshi", "Yoshitsune", "Yoshiyuki", "Yoson", "Yosuke", "Yozo", "Yugoro", "Yuichi", "Yuifum", "Yuji", "Yujiro", "Yuki", "Yukichi", "Yukinaga", "Yukio", "Yuko", "Yunosuke", "Yushiro", "Yusuke", "Yutaka", "Zenko", "Zeshin"];
jap2 = ['Abi', 'Ado', 'Aeko', 'Aemi', 'Agasa', 'Ai', 'Aiga', 'Aiko', 'Aira', 'Aisa', 'Aishun', 'Akae', 'Akako', 'Akane', 'Akasuki', 'Akemi', 'Akeno', 'Aki', 'Akiko', 'Akina', 'Akio', 'Akira', 'Akirako', 'Akko', 'Ako', 'Akoto', 'Akuro', 'Amarante', 'Amari', 'Amaya', 'Ami', 'Anbi', 'Anda', 'Ane', 'Aneka', 'Aneko', 'Anii', 'Anju', 'Ano', 'Anri', 'Ao', 'Aoba', 'Aoi', 'Aomi', 'Aoki', 'Are', 'Arei', 'Ari', 'Arisa', 'Arisu', 'Asa', 'Asahi', 'Asaji', 'Asako', 'Asami', 'Asuka', 'Atsuko', 'Au', 'Aya', 'Ayaka', 'Ayako', 'Ayame', 'Ayano', 'Ayao', 'Ayase', 'Aye', 'Ayuka', 'Ayuko', 'Ayumi', 'Ayuri', 'Azami', 'Azumi', 'Azusa', 'Bachiko', 'Beni', 'Benten', 'Chiaki', 'Chie', 'Chieko', 'Chifumi', 'Chifuyu', 'Chigusa', 'Chiharu', 'Chihiro', 'Chiho', 'Chihoko', 'Chihomi', 'Chihori', 'Chika', 'Chikage', 'Chikako', 'Chikaze', 'Chiko', 'Chikuma', 'Chima', 'Chimaki', 'Chimako', 'Chimari', 'China', 'Chinami', 'Chinatsu', 'Chino', 'Chio', 'Chisa', 'Chisato', 'Chise', 'Chisuzu', 'Chitako', 'Chitose', 'Chiyako', 'Chiyeko', 'Chiyo', 'Chiyu', 'Chiyuki', 'Chiyumi', 'Chiyuri', 'Chizu', 'Chizuru', 'Cho', 'Dai', 'Den', 'Dori', 'Eari', 'Eba', 'Echiko', 'Egao', 'Eho', 'Ei', 'Eiko', 'Eimu', 'Eire', 'Eitsu', 'Eka', 'Ema', 'Emao', 'Eme', 'Emi', 'Emiho', 'Emika', 'Emiko', 'Emina', 'Emio', 'Emiri', 'Emiya', 'Emu', 'En', 'Ena', 'Enko', 'Enri', 'Ere', 'Eren', 'Erena', 'Eri', 'Erika', 'Eriko', 'Erisa', 'Erisu', 'Erize', 'Eru', 'Esumi', 'Etsu', 'Etsuko', 'Euiko', 'Fuji', 'Fujiko', 'Fukami', 'Fuki', 'Fukuko', 'Fumi', 'Fumie', 'Fumika', 'Fumiki', 'Fumiko', 'Fumiya', 'Fusa', 'Fusae', 'Futaba', 'Fuuko', 'Fuyu', 'Fuyuko', 'Fuyume', 'Gemmei', 'Gen', 'Gin', 'Gina', 'Ginko', 'Hagino', 'Hainako', 'Hairi', 'Hako', 'Hama', 'Hami', 'Han', 'Hana', 'Hanae', 'Hanako', 'Haniko', 'Haru', 'Harui', 'Haruka', 'Harukichi', 'Haruko', 'Harumi', 'Hasumi', 'Hatomi', 'Hatsu', 'Hatsue', 'Hatsuka', 'Hatsumi', 'Hatsune', 'Hatsuyo', 'Haya', 'Hazuki', 'Hibari', 'Hide', 'Hideko', 'Hikari', 'Hikaru', 'Himeka', 'Himeko', 'Hina', 'Hinako', 'Hirari', 'Hiro', 'Hiroe', 'Hiroko', 'Hiromi', 'Hiroshi', 'Hisa', 'Hisae', 'Hisako', 'Hisano', 'Hitomi', 'Hitomo', 'Hitoshi', 'Hizuru', 'Homi', 'Homugi', 'Hona', 'Honami', 'Honoka', 'Honomi', 'Hoshi', 'Hoshie', 'Hoshiko', 'Hoshiyo', 'Hosuzu', 'Hotaru', 'Hozumi', 'Iako', 'Ibu', 'Ichi', 'Ichie', 'Ichiha', 'Ichiho', 'Ichiko', 'Ichino', 'Ie', 'Iena', 'Iho', 'Ihono', 'Iki', 'Ikoi', 'Iku', 'Ikue', 'Ikuko', 'Ikumu', 'Ima', 'Imari', 'Ina', 'Inaho', 'Inari', 'Ine', 'Ino', 'Inoue', 'Io', 'Ioko', 'Iona', 'Iori', 'Irisa', 'Isa', 'Isaki', 'Isako', 'Isami', 'Isamu', 'Ise', 'Ishi', 'Isoko', 'Isono', 'Isuzu', 'Ito', 'Itsuko', 'Iwa', 'Iyo', 'Iyona', 'Izumi', 'Jin', 'Jori', 'Joruri', 'Jun', 'June', 'Junko', 'Juri', 'Juria', 'Kadiri', 'Kae', 'Kaede', 'Kagami', 'Kaho', 'Kahori', 'Kahoru', 'Kai', 'Kaida', 'Kaiya', 'Kaiyo', 'Kameko', 'Kako', 'Kama', 'Kame', 'Kami', 'Kamie', 'Kaminari', 'Kamlyn', 'Kana', 'Kane', 'Kaneko', 'Kaneru', 'Kanna', 'Kanon', 'Kao', 'Kaori', 'Kaoru', 'Karen', 'Karin', 'Kasumi', 'Kata', 'Katsu', 'Katsue', 'Katsuko', 'Katsumi', 'Kawa', 'Kaya', 'Kayami', 'Kayo', 'Kayoko', 'Kayu', 'Kazashi', 'Kazu', 'Kazue', 'Kazuko', 'Kazumi', 'Kei', 'Keiko', 'Kichi', 'Kiho', 'Kii', 'Kiko', 'Kiku', 'Kikyo', 'Kimi', 'Kimie', 'Kimiko', 'Kin', 'Kina', 'Kino', 'Kinu', 'Kinuko', 'Kinuye', 'Kinuyo', 'Kioko', 'Kioshi', 'Kirari', 'Kiri', 'Kisa', 'Kishi', 'Kit', 'Kita', 'Kiwa', 'Kiyo', 'Kiyoko', 'Kiyomi', 'Kiyoshi', 'Kiyumi', 'Ko', 'Kochiyo', 'Kofuyu', 'Kohana', 'Koharu', 'Koi', 'Koiso', 'Koken', 'Koko', 'Koma', 'Komachi', 'Kome', 'Komi', 'Konami', 'Konatsu', 'Koneko', 'Konomi', 'Koto', 'Kotone', 'Kouko', 'Koume', 'Kozakura', 'Kozue', 'Kukiko', 'Kuma', 'Kumi', 'Kumiko', 'Kumiyo', 'Kuni', 'Kunie', 'Kuniko', 'Kura', 'Kurea', 'Kuri', 'Kurumi', 'Kuwa', 'Kyoko', 'Kyouka', 'Kyouko', 'Kyoumi', 'Leiko', 'Machi', 'Machiko', 'Madoka', 'Mae', 'Maeko', 'Maemi', 'Mai', 'Maiko', 'Maiya', 'Maki', 'Makiko', 'Mako', 'Mami', 'Mamiko', 'Man', 'Mana', 'Manami', 'Mari', 'Mariko', 'Marise', 'Maru', 'Masa', 'Masae', 'Masago', 'Masako', 'Masu', 'Masumi', 'Matsu', 'Matsuko', 'Maya', 'Mayako', 'Mayo', 'Mayoko', 'Mayuko', 'Mayumi', 'Megu', 'Megumi', 'Michi', 'Michie', 'Michiko', 'Michiru', 'Midori', 'Mie', 'Mieko', 'Miho', 'Mihoko', 'Miiko', 'Mika', 'Mikazuki', 'Miki', 'Mikka', 'Miliko', 'Mina', 'Minako', 'Mine', 'Mineko', 'Mino', 'Mio', 'Misa', 'Misaki', 'Misako', 'Misao', 'Misato', 'Mitsu', 'Misoka', 'Mitsu', 'Mitsuko', 'Mitsuyo', 'Miu', 'Miwa', 'Miwako', 'Miya', 'Miyako', 'Miyo', 'Miyoko', 'Miyoshi', 'Miyu', 'Miyuki', 'Mizuki', 'Mizuko', 'Moanna', 'Moe', 'Momoko', 'Mon', 'Mori', 'Morie', 'Moto', 'Muika', 'Mura', 'Murasaki', 'Mutsuko', 'Mutsumi', 'Nadeshiko', 'Nagisa', 'Naho', 'Nahoko', 'Nami', 'Namie', 'Namika', 'Namiko', 'Namiyo', 'Nana', 'Nanako', 'Nanami', 'Nanao', 'Nanase', 'Nao', 'Naoko', 'Naomi', 'Naora', 'Nara', 'Nari', 'Nariko', 'Narumi', 'Natsu', 'Natsuko', 'Natsumi', 'Nayoko', 'Nene', 'Nikki', 'Nishi', 'Nomi', 'Nori', 'Norie', 'Noriko', 'Nozomi', 'Nui', 'Nyoko', 'Ochiyo', 'Ogi', 'Oharu', 'Oki', 'Okichi', 'Okiku', 'Okimi', 'Ome', 'Omitsu', 'Ori', 'Oriana', 'Orika', 'Orime', 'Orimi', 'Orino', 'Osami', 'Osen', 'Otoe', 'Otome', 'Otsu', 'Otsune', 'Poemu', 'Rai', 'Raicho', 'Raira', 'Raku', 'Ran', 'Rea', 'Rebun', 'Rei', 'Reichiru', 'Reiko', 'Reina', 'Reira', 'Reisa', 'Remi', 'Remon', 'Ren', 'Rena', 'Rie', 'Rieko', 'Riho', 'Rii', 'Rika', 'Rikako', 'Riko', 'Riku', 'Rin', 'Rina', 'Rinako', 'Ringo', 'Rini', 'Rino', 'Rio', 'Rira', 'Ririko', 'Risa', 'Risako', 'Rise', 'Risu', 'Ritsuko', 'Roku', 'Rokuko', 'Romi', 'Rui', 'Ruka', 'Ruma', 'Rumi', 'Rumiko', 'Runa', 'Ruri', 'Ruriko', 'Ruru', 'Ryo', 'Ryoko', 'Ryou', 'Ryu', 'Sachi', 'Sachiko', 'Sada', 'Sadako', 'Sae', 'Saeko', 'Sai', 'Saika', 'Saito', 'Sakae', 'Sakamae', 'Saki', 'Sakiko', 'Sako', 'Sakue', 'Sakuko', 'Sakura', 'Sakurako', 'Sakuro', 'Sama', 'Sanako', 'Saori', 'Sata', 'Sato', 'Satoko', 'Satomi', 'Satsu', 'Satsuki', 'Satu', 'Sawa', 'Sawako', 'Saya', 'Sayo', 'Sayoko', 'Sayomi', 'Sayuri', 'Sei', 'Seiko', 'Seka', 'Seki', 'Sen', 'Setsu', 'Setsuko', 'Shige', 'Shiho', 'Shihobu', 'Shika', 'Shina', 'Shino', 'Shinobu', 'Shioko', 'Shiori', 'Shirushi', 'Shizu', 'Shizue', 'Shizuka', 'Shoken', 'Shoko', 'Shungiku', 'Sugi', 'Sui', 'Sukey', 'Suki', 'Suko', 'Sumi', 'Sumiko', 'Sute', 'Suzu', 'Suzue', 'Suzuki', 'Suzuko', 'Suzume', 'Tadako', 'Tae', 'Tai', 'Taira', 'Taji', 'Taka', 'Takako', 'Takara', 'Take', 'Taki', 'Tama', 'Tamae', 'Tamafune', 'Tamaki', 'Tamami', 'Tame', 'Tami', 'Tamika', 'Tamiko', 'Tamiyo', 'Tanak', 'Tanaka', 'Tane', 'Tani', 'Taniko', 'Tansho', 'Tara', 'Taree', 'Taru', 'Tatsu', 'Tatsumi', 'Taura', 'Taya', 'Tazu', 'Teruyo', 'Tetsu', 'Toki', 'Tokie', 'Tokiko', 'Tokiwa', 'Tokiyo', 'Toku', 'Tomi', 'Tomiju', 'Tomiko', 'Tomo', 'Tomoe', 'Tomoko', 'Tomomi', 'Tooka', 'Tora', 'Tori', 'Toshi', 'Toshie', 'Toshiko', 'Toya', 'Toyoko', 'Tsugi', 'Tsuki', 'Tsukiko', 'Tsukiyama', 'Tsuna', 'Tsuru', 'Tsuya', 'Ui', 'Uka', 'Uki', 'Ume', 'Umeka', 'Umeki', 'Umeko', 'Umi', 'Una', 'Uno', 'Urako', 'Urano', 'Urara', 'Urena', 'Urumi', 'Usagi', 'Usami', 'Uta', 'Utako', 'Utsuwa', 'Utzuki', 'Uzuki', 'Waka', 'Wakaba', 'Wakako', 'Wakana', 'Wakano', 'Wakayo', 'Waki', 'Wakiko', 'Wako', 'Wakumi', 'Wakuri', 'Wami', 'Warabi', 'Wattan', 'Wayoko', 'Wazuka', 'Yachi', 'Yae', 'Yaeko', 'Yama', 'Yasu', 'Yasuko', 'Yasumu', 'Yatsumi', 'Yawara', 'Yayoi', 'Yei', 'Yo', 'Yodo', 'Yoi', 'Yoka', 'Yokkako', 'Yoko', 'Yone', 'Yori', 'Yoriko', 'Yoshe', 'Yoshi', 'Yoshike', 'Yoshiko', 'Yoshino', 'You', 'Yu', 'Yufu', 'Yui', 'Yuka', 'Yukako', 'Yukari', 'Yuki', 'Yukiji', 'Yukika', 'Yukiko', 'Yukiyo', 'Yuko', 'Yuma', 'Yumako', 'Yume', 'Yumeji', 'Yumi', 'Yumia', 'Yumiko', 'Yumisa', 'Yuna', 'Yuno', 'Yura', 'Yuri', 'Yuria', 'Yuriko', 'Yurisa', 'Yuro', 'Yusa', 'Yusuke', 'Yutori', 'Yutsuko', 'Yuuko', 'Yuyu'];
jap3 = ["Akemi", "Aki", "Akiho", "Akimi", "Akira", "Anri", "Aoi", "Asuka", "Ayumu", "Chiaki", "Chihiro", "Hajime", "Haru", "Haruichi", "Haruka", "Harumi", "Hatsu", "Hayate", "Hazuki", "Hibiki", "Hifumi", "Hikari", "Hikaru", "Hinata", "Hiromi", "Hiromu", "Hisaya", "Hiyori", "Hotaru", "Ibuki", "Iori", "Itsuki", "Izumi", "Jun", "Kaede", "Kagami", "Kairi", "Kaname", "Kaoru", "Katsumi", "Kayo", "Kazu", "Kazumi", "Kei", "Kou", "Kunie", "Kurumi", "Kyo", "Maiko", "Maki", "Mako", "Makoto", "Masaki", "Masami", "Masumi", "Matoi", "Michi", "Michiru", "Michiyo", "Midori", "Mikoto", "Minori", "Mirai", "Misao", "Mitsue", "Mitsuki", "Mitsuru", "Mitsuyo", "Mizuho", "Mizuki", "Nagisa", "Nao", "Naomi", "Natsuki", "Natsuo", "Nozomi", "Rei", "Ren", "Riku", "Rin", "Rui", "RyÅ", "Ryuko", "Sakae", "Satsuki", "Setsuna", "Shigeri", "Shinobu", "Shion", "Shizuka", "Sora", "Subaru", "Takemi", "Tamaki", "Tatsuki", "Teru", "Tomo", "Tomoe", "Tomomi", "Toshimi", "Tsubasa", "Tsukasa", "YÅ«", "Yoshi", "Yoshika", "Yoshimi", "Yuki", "Yuri"];
japS = ["Abe", "Abo", "Adachi", "Agano", "Aguni", "Aihara", "Aikawa", "Akagawa", "Akagi", "Akahoshi", "Akamatsu", "Akamine", "Akanishi", "Akazawa", "Aki", "Akiba", "Akibara", "Akiya", "Akiyama", "Amachi", "Amagawa", "Amai", "Amano", "Amari", "Amaya", "Amemori", "Ametsuchi", "Amisaki", "Ando", "Anno", "Anzai", "Aoi", "Aoki", "Aomine", "Aonuma", "Aoyama", "Aozora", "Ara", "Arai", "Arakaki", "Arakawa", "Araki", "Arashi", "Arashiro", "Arata", "Araya", "Arima", "Arita", "Asa", "Asai", "Asaka", "Asano", "Asari", "Asato", "Ashikaga", "Ayuzawa", "Azuma", "Baba", "Baisho", "Ban", "Bando", "Banno", "Chiba", "Chigusa", "Chijimatsu", "Chikae", "Chikanari", "Chinen", "Chino", "Chiura", "Chiyotanda", "Chiziwa", "Coda", "Daigo", "Date", "Deguchi", "Demura", "Dewa", "Doi", "Dokite", "Dokuro", "Domen", "Domoto", "Ebina", "Ebinuma", "Ebisawa", "Edamitsu", "Edamura", "Edano", "Egawa", "Eguchi", "Egusa", "Ehara", "Ejiri", "Enatsu", "Endo", "Enokida", "Enomoto", "Esumi", "Eto", "Fuchizaki", "Fujii", "Fujikawa", "Fujima", "Fujimori", "Fujimoto", "Fujimura", "Fujino", "Fujioka", "Fujita", "Fujiwara", "Fujiyama", "Fukasawa", "Fukase", "Fukaya", "Fukuda", "Fukuhara", "Fukui", "Fukuizumi", "Fukuma", "Fukumoto", "Fukunaga", "Fukushima", "Fukutsuchi", "Fukuyama", "Fukuyo", "Funai", "Furukawa", "Furusawa", "Furuse", "Furuta", "Furutani", "Furuya", "Fuse", "Futaki", "Gamo", "Gima", "Go", "Goda", "Gomi", "Goto", "Goya", "Gushiken", "Hachimitsu", "Hada", "Haga", "Hagiwara", "HakuryÅ«", "Hamada", "Hamadate", "Hamakawa", "Hamamoto", "Hamano", "Hamasaki", "Hanamura", "Hanazawa", "Handa", "Hano", "Hara", "Harada", "Harigae", "Haruno", "Haruta", "Haruyama", "Hase", "Hasegawa", "Hashi", "Hashimoto", "Hashira", "Hata", "Hatake", "Hatanaka", "Hatano", "Hatsu", "Hattori", "Hayabusa", "Hayakawa", "Hayashi", "Hayashida", "Hayato", "Henmi", "Higa", "Higashi", "Higuchi", "Himi", "Himura", "Hino", "Hirabayashi", "Hirai", "Hirano", "Hiraoka", "Hirashima", "Hirata", "Hirayama", "Hiroi", "Hironaka", "Hirose", "Hiroshima", "Hirota", "Hiroto", "Hiruma", "Hisakawa", "Hitarashi", "Hoashi", "Hoga", "Hokama", "Homura", "Honda", "Hora", "Hori", "Horie", "Horikiri", "Horiuchi", "Hoshino", "Hosoo", "Ichida", "Ichihara", "Ichijou", "Ichikawa", "Ichinomiya", "Ichioka", "Ida", "Ide", "Ienaga", "Igarashi", "Ige", "Iha", "Iida", "Ikari", "Ike", "Ikeda", "Ikehara", "Ikehata", "Imada", "Imaeda", "Imai", "Imamura", "Imari", "Inaba", "Inai", "Inazuma", "Inoshishi", "Inouye", "Inugami", "Iori", "Isa", "Isayama", "Iseri", "Ishibashi", "Ishida", "Ishido", "Ishihara", "Ishii", "Ishikawa", "Ishikura", "Ishimoto", "Ishiwari", "Ishiwata", "Ishiyama", "Isobe", "Isozaki", "Ito", "Itoh", "Iwai", "Iwakiri", "Iwamoto", "Iwasaki", "Iwata", "Iwayama", "Iwayanagi", "Izuhara", "Izumi", "Izumo", "Jin", "Jinnouchi", "Jissoji", "Jo", "Juba", "Junko", "KÃ´zuke", "Kaba", "Kabuto", "Kaga", "Kagawa", "Kagiyama", "Kagurazaka", "Kai", "Kaiba", "Kajiwara", "Kamata", "Kamei", "Kamenashi", "Kaminaga", "Kamino", "Kamiya", "Kamoto", "Kanagi", "Kanai", "Kanbayashi", "Kanda", "Kaneda", "Kaneko", "Kanemaru", "Kanemoto", "Kaneshiro", "Kanno", "Kano", "Karasu", "Kasai", "Kase", "Kashiwa", "Kashiwagi", "Katabuchi", "Katagiri", "Kataoka", "Katayama", "Kato", "Katsura", "Katsuragi", "Kawabata", "Kawada", "Kawaguchi", "Kawahara", "Kawai", "Kawakami", "Kawamoto", "Kawamura", "Kawano", "Kawasaki", "Kawashima", "Kawata", "Kaya", "Kayumi", "Kazato", "Kazehaya", "Kazetani", "Keikain", "Kibe", "Kida", "Kido", "Kikuchi", "Kikyo", "Kimoto", "Kimura", "Kinjo", "Kinoshita", "Kirigaya", "Kirishima", "Kishi", "Kishimoto", "Kita", "Kitabayashi", "Kitagawa", "Kitamura", "Kitani", "Kiya", "Kiyabu", "Kiyota", "Kobashigawa", "Kobayashi", "Kobe", "Koda", "Kodama", "Koga", "Kogane", "Koide", "Koike", "Koizumi", "Kojima", "Koki", "Komatsu", "Komori", "Komuro", "Kon", "Konda", "Kondo", "Konishi", "Konno", "Kono", "Konuma", "Konya", "Koshikawa", "Kotake", "Kotobuki", "Kouumoto", "Koyama", "Koyanagi", "Koyasu", "Kozato", "Kozue", "Kozutsami", "Kuba", "Kubo", "Kubota", "Kudo", "Kudou", "Kuga", "Kugimiya", "Kugo", "Kumagai", "Kunieda", "Kuno", "Kuramoto", "Kurata", "Kure", "Kurihara", "Kurisu", "Kuroba", "Kuroda", "Kurokawa", "Kuroki", "Kuronuma", "Kurosawa", "Kuse", "Kusumoto", "Kuwahara", "Kyoya", "Machi", "Machida", "Mae", "Maebara", "Maeda", "Maekawa", "Maeno", "Maita", "Maki", "Makino", "Manaka", "Maniwa", "Mano", "Maruyama", "Masaki", "Mase", "Mashimo", "Masuda", "Masuyama", "Matsubara", "Matsuda", "Matsui", "Matsumoto", "Matsumura", "Matsunaga", "Matsuno", "Matsuo", "Matsuoka", "Matsushima", "Matsushita", "Matsutani", "Matsutoya", "Matsuura", "Matsuyama", "Matsuzaki", "Mawatari", "Mayeda", "Michizoe", "Mifune", "Mihara", "Mikami", "Miki", "Minami", "Minamoto", "Mino", "Misaki", "Mita", "Mitsue", "Mitsugi", "Mitsugu", "Mitsui", "Miura", "Miya", "Miyabe", "Miyagawa", "Miyaguchi", "Miyahara", "Miyahira", "Miyake", "Miyamoto", "Miyano", "Miyara", "Miyasaki", "Miyasato", "Miyashiro", "Miyashita", "Miyata", "Miyazaki", "Miyazato", "Miyazawa", "Miyoshi", "Mizuno", "Mizusawa", "Mizushima", "Mizutani", "Mochizuki", "Momoi", "Mori", "Moriai", "Morihei", "Morikawa", "Morimoto", "Morine", "Morino", "Morioka", "Morishige", "Morishita", "Morita", "Moriya", "Moriyama", "Moteki", "Moto", "Motome", "Motozawa", "Mukai", "Mura", "Murai", "Murakami", "Muramoto", "Muranaka", "Murano", "Muraoka", "Murata", "Muratagi", "Murayama", "Muto", "Naegi", "Nagai", "Nagamatsu", "Nagamine", "Nagano", "Nagao", "Nagaoka", "Nagasawa", "Nagase", "Nagashima", "Nagata", "Nagatsuka", "Naito", "Nakada", "Nakagawa", "Nakagome", "Nakahara", "Nakai", "Nakajima", "Nakama", "Nakamoto", "Nakamura", "Nakanishi", "Nakano", "Nakao", "Nakashima", "Nakasone", "Nakata", "Nakatani", "Nakatomi", "Nakauchi", "Nakayama", "Nakazawa", "Namba", "Nara", "Narisawa", "Narita", "Naru", "Nashio", "Natsukawa", "Naya", "Nii", "Niikura", "Nishi", "Nishida", "Nishihara", "Nishikawa", "Nishikiri", "Nishimoto", "Nishimura", "Nishioka", "Nishiyama", "Nishizaka", "Nitta", "Niwa", "No", "Nobira", "Nobusawa", "Noda", "Noguchi", "Nomi", "Nomura", "Nonaka", "Noya", "Noyamano", "Nura", "Oba", "Obara", "Obi", "Oda", "Oe", "Ogami", "Ogasawara", "Ogata", "Ogawa", "Ogino", "Ogura", "Oh", "Ohara", "Ohashi", "Ohno", "Ohori", "Ohta", "Oishi", "Oka", "Okabe", "Okada", "Okamoto", "Okamura", "Okane", "Okano", "Okawa", "Okazaki", "Oki", "Okimoto", "Okino", "Okita", "Okubo", "Okuda", "Okuma", "Okumura", "Okura", "Okuyama", "Omori", "Omura", "Onaga", "Onishi", "Ono", "Onoue", "Oogami", "Orio", "Orito", "Osada", "Osaki", "Ose", "Oshima", "Oshiro", "Oshita", "Ota", "Otake", "Otani", "Otonari", "Otsuka", "Ouchi", "Ouji", "Oyakawa", "Oyama", "Oye", "Ozaki", "Ozawa", "Rai", "Rakuyama", "Rikimaru", "Ritsushima", "Rokuda", "RyÅ«zaki", "Sada", "Saeki", "Saiki", "Saionji", "Saito", "Sakaguchi", "Sakai", "Sakakibara", "Sakamoto", "Sakane", "Sakata", "Sakimoto", "Sakiyama", "Sako", "Sakuma", "Sakurai", "Sakurano", "Sakurazaki", "Sama", "Samejima", "Samon", "Sanda", "Sando", "Sano", "Sasagawa", "Sasaki", "Sasori", "Sato", "Sawa", "Sawachika", "Sawada", "Sawano", "Sawaya", "Saza", "Sazama", "Seki", "Sekiguchi", "Sekino", "Seno", "Senri", "Seo", "Sera", "Serizawa", "Seta", "Seto", "Seyama", "Shiba", "Shibata", "Shibuya", "Shima", "Shimabukuro", "Shimada", "Shimamoto", "Shimamura", "Shime", "Shimizu", "Shimoda", "Shimomura", "Shinkai", "Shinobu", "Shinohara", "Shinsato", "Shintani", "Shirai", "Shiraishi", "Shiraki", "Shiro", "Shiroma", "Shishido", "Shoda", "Shoji", "Soda", "Soga", "Soma", "Sone", "Sonoda", "Suda", "Sueno", "Sueoka", "Suga", "Sugai", "Sugano", "Sugawara", "Sugihara", "Sugimoto", "Sugita", "Sugiyama", "Suguro", "Suko", "Sumadera", "Sumida", "Sumisu", "Sunada", "Suou", "Suto", "Suzukaze", "Suzuki", "Tabata", "Tachibana", "Tada", "Tagawa", "Taguchi", "Tahara", "Taira", "Tajima", "Takagaki", "Takagi", "Takahara", "Takahashi", "Takahata", "Takai", "Takaki", "Takakuwa", "Takamaru", "Takamitsu", "Takamori", "Takamoto", "Takanashi", "Takano", "Takara", "Takashima", "Takata", "Takayama", "Takeda", "Takei", "Takemoto", "Takenaka", "Takeshita", "Taketa", "Takeuchi", "Takishima", "Tamaasa", "Tamai", "Tamaki", "Tamanaha", "Tamashiro", "Tamatsuki", "Tamon", "Tamura", "Tanabe", "Tanaka", "Tani", "Tanifuji", "Tanigawa", "Taniguchi", "Tanikawa", "Tanimoto", "Taniuchi", "Tanji", "Tano", "Tao", "Tashiro", "Tatewaki", "Tatsuda", "Tatsuno", "Tazawa", "Tengan", "Terada", "Teramoto", "Terauchi", "Teruya", "Teshima", "Tezuka", "Tobe", "Toda", "Togoshi", "Tokuda", "Tokugawa", "Tokuma", "Tokunaga", "Toma", "Tomatsu", "Tominaga", "Tomita", "Tone", "Toujou", "Toyama", "Toyoda", "Tsuboike", "Tsuchida", "Tsuchiya", "Tsuda", "Tsuga", "Tsuge", "Tsuji", "Tsujihara", "Tsujii", "Tsujita", "Tsukamoto", "Tsukino", "Tsukiyama", "Tsukiyomi", "Tsukuda", "Tsunematsu", "Tsunoi", "Tsuruoka", "Tsutsui", "Tsutsumi", "Tsuzuki", "Ubukata", "Uchibayashi", "Uchida", "Uchikoshi", "Uchima", "Uchimura", "Uchino", "Uchiyama", "Uda", "Ueda", "Uegaki", "Uehara", "Uehashi", "Ueki", "Uematsu", "Uemura", "Ueno", "Uesaka", "Uesato", "Ueshiba", "Uesugi", "Ueto", "Ueyama", "Ueyonabaru", "Ugumori", "Umebayashi", "Umeda", "Umeji", "Umeki", "Umemoto", "Umemura", "Umesaka", "Umezaki", "Umezawa", "Umon", "Uno", "Uozumi", "Uramoto", "Uranishi", "Urata", "Urayama", "Urushido", "Ushijima", "Ushioda", "Usui", "Utada", "Utagawa", "Utsumi", "Utsunomiya", "Uyeda", "Uyehara", "Uyemura", "Uyeno", "Uzumaki", "Wada", "Wakabayashi", "Wakai", "Wakaizumi", "Wakaki", "Wakamatsu", "Wakamatsu", "Wakamura", "Wakao", "Wakasugi", "Wakata", "Wakatsuchi", "Wakatsuki", "Wakayama", "Wakayoshi", "Waki", "Wakimoto", "Wakino", "Wakisaka", "Wakita", "Wakiya", "Wakui", "Wakuni", "Wakuri", "Wanijima", "Watabe", "Watanabe", "Watanuki", "Watari", "Watase", "Watsuji", "YÅ«ki", "YabÅ«chi", "Yabe", "Yabuta", "Yada", "Yadama", "Yagami", "Yagi", "Yaginuma", "Yaguchi", "Yahiro", "Yajima", "Yakumo", "Yakushimaru", "Yamabe", "Yamada", "Yamagata", "Yamagishi", "Yamaguchi", "Yamaha", "Yamaji", "Yamakawa", "Yamamoto", "Yamamura", "Yamamuro", "Yamanaka", "Yamanami", "Yamane", "Yamanishi", "Yamaoka", "Yamasaki", "Yamasato", "Yamashina", "Yamashiro", "Yamashita", "Yamataka", "Yamauchi", "Yamazaki", "Yanagi", "Yanagida", "Yanagimachi", "Yanagimoto", "Yanagisawa", "Yanagita", "Yanai", "Yanase", "Yano", "Yashida", "Yashima", "Yashiro", "Yasuda", "Yasue", "Yasui", "Yasumi", "Yasumoto", "Yasunaga", "Yasutake", "Yazawa", "Yodogawa", "Yogi", "Yoichi", "Yokoi", "Yokono", "Yokota", "Yokouchi", "Yokoyama", "Yomaura", "Yonamine", "Yoneda", "Yonemura", "Yoneno", "Yonezawa", "Yoritaka", "Yoshida", "Yoshie", "Yoshifumi", "Yoshigahara", "Yoshihama", "Yoshihara", "Yoshihisa", "Yoshii", "Yoshiie", "Yoshikawa", "Yoshikuni", "Yoshimi", "Yoshimoto", "Yoshimura", "Yoshinaga", "Yoshino", "Yoshioka", "Yoshitaka", "Yoshiya", "Yoshiyuki", "Yoshizawa", "Yuguchi", "Yuhara", "Yukawa", "Yukimori", "Yukimura", "Yukimuro", "Yukiyama", "Yumoto", "Yutani", "Yuuma", "Zakai", "Zakaza", "Zayasu"];

window.getJapName = function(type) {
    if (type == 0) {
        let rnd = Math.floor(Math.random() * jap1.length);
        return jap1[rnd];
    } else if (type == 1) {
        let rnd = Math.floor(Math.random() * jap2.length);
        return jap2[rnd];
    } else if (type == 2) {
        let rnd = Math.floor(Math.random() * jap3.length);
        return jap3[rnd];
    } else {
        let rnd = Math.floor(Math.random() * japS.length);
        return japS[rnd];
    }
}
 nm1=["","","","","b","br","c","ch","d","fr","g","gr","j","k","m","n","p","q","r","t","x","z"];
 nm2 = ["u", "u", "u", "u", "u", "a", "e", "i", "o", "y", "a", "e", "i", "o", "y", "a", "e", "i", "o", "y", "a", "e", "i", "o", "y", "a", "e", "i", "o", "y", "a", "e", "i", "o", "y", "a", "e", "i", "o", "y", "ai", "ay", "ei", "eo", "ia", "ie", "oi"];
 nm3 = ["d", "ddr", "dr", "g", "gh", "k", "lb", "ldr", "lr", "lzr", "m", "mb", "mm", "mr", "n", "nd", "ndr", "nn", "r", "rd", "rg", "rr", "rs", "rv", "s", "t", "th", "v", "vr", "z", "zz"];
 nm4 = ["cr", "d", "n", "nt", "r", "rr", "sd"];
 nm5 = ["", "", "d", "g", "m", "n", "nth", "r", "rth", "s", "ss", "t"];
 nm6 = ["", "", "", "", "", "", "b", "c", "ch", "d", "f", "fr", "g", "h", "l", "m", "n", "p", "q", "r", "s", "sh", "t", "v", "z"];
 nm7 = ["u", "u", "u", "u", "a", "e", "i", "o", "y", "a", "e", "i", "o", "y", "a", "e", "i", "o", "y", "a", "e", "i", "o", "y", "a", "e", "i", "o", "y", "a", "e", "i", "o", "y", "a", "e", "i", "o", "y", "a", "e", "i", "o", "y", "a", "e", "i", "o", "y", "ae", "ai", "ay", "ei", "eo", "ie", "io", "oa"];
 nm8 = ["d", "dh", "g", "gh", "k", "ldr", "ll", "m", "mm", "mr", "n", "nd", "ndr", "nn", "p", "ph", "r", "rg", "rl", "rm", "rr", "rs", "rv", "s", "ss", "t", "th", "v", "vn", "z", "zz"];
 nm9 = ["d", "l", "n", "nt", "ph", "r", "rr", "ss"];
 nm10 = ["", "", "", "", "", "l", "lth", "n", "nth", "r", "rth", "s", "ss", "t", "th"];
 nm11 = ["", "", "", "", "b", "c", "ch", "d", "fr", "g", "m", "n", "p", "q", "r", "s", "t", "v", "x", "z"];
 nm12 = ["u", "u", "u", "u", "a", "e", "i", "o", "y", "ae", "ai", "ay", "ei", "eo", "ia", "ie", "io", "oa", "oi"];
 nm13 = ["d", "dh", "dr", "g", "gh", "k", "l", "ldr", "ll", "lr", "m", "mm", "mr", "n", "nd", "ndr", "nn", "p", "ph", "r", "rl", "rm", "rr", "rs", "rv", "s", "ss", "t", "th", "v", "vn", "vr", "z", "zz"];
 nm14 = ["d", "l", "n", "nt", "ph", "r", "rr", "ss"];
 nm15 = ["", "", "", "d", "g", "l", "lth", "n", "nth", "r", "rth", "s", "ss", "t", "th"];


window.getDragonName=function(type) {
    var tp = type;
    var list = [];
    for (i = 0; i < 10; i++) {
        if (tp === 1) {
            rnd = Math.random() * nm6.length | 0;
            rnd2 = Math.random() * nm7.length | 0;
            rnd3 = Math.random() * nm8.length | 0;
            rnd4 = Math.random() * nm7.length | 0;
            rnd5 = Math.random() * nm10.length | 0;
            while (nm6[rnd] === nm8[rnd3]) {
                rnd3 = Math.random() * nm8.length | 0;
            }
            while (nm10[rnd5] === nm8[rnd3]) {
                rnd5 = Math.random() * nm10.length | 0;
            }
            if (i < 7) {
                names = nm6[rnd] + nm7[rnd2] + nm8[rnd3] + nm7[rnd4] + nm10[rnd5];
            } else {
                rnd6 = Math.random() * nm9.length | 0;
                rnd7 = Math.random() * nm7.length | 0;
                while (nm9[rnd6] === nm8[rnd3]) {
                    rnd6 = Math.random() * nm9.length | 0;
                }
                names = nm6[rnd] + nm7[rnd2] + nm8[rnd3] + nm7[rnd4] + nm9[rnd6] + nm7[rnd7] + nm10[rnd5];
            }
        } else if (tp === 2) {
            rnd = Math.random() * nm11.length | 0;
            rnd2 = Math.random() * nm12.length | 0;
            rnd3 = Math.random() * nm13.length | 0;
            rnd4 = Math.random() * nm12.length | 0;
            rnd5 = Math.random() * nm15.length | 0;
            while (nm11[rnd] === nm13[rnd3]) {
                rnd3 = Math.random() * nm13.length | 0;
            }
            while (nm15[rnd5] === nm13[rnd3]) {
                rnd5 = Math.random() * nm15.length | 0;
            }
            if (i < 7) {
                names = nm11[rnd] + nm12[rnd2] + nm13[rnd3] + nm12[rnd4] + nm15[rnd5];
            } else {
                rnd6 = Math.random() * nm14.length | 0;
                rnd7 = Math.random() * nm12.length | 0;
                while (nm14[rnd6] === nm13[rnd3]) {
                    rnd6 = Math.random() * nm14.length | 0;
                }
                names = nm11[rnd] + nm12[rnd2] + nm13[rnd3] + nm12[rnd4] + nm14[rnd6] + nm12[rnd7] + nm15[rnd5];
            }
        } else {
            rnd = Math.random() * nm1.length | 0;
            rnd2 = Math.random() * nm2.length | 0;
            rnd3 = Math.random() * nm3.length | 0;
            rnd4 = Math.random() * nm2.length | 0;
            rnd5 = Math.random() * nm5.length | 0;
            while (nm1[rnd] === nm3[rnd3]) {
                rnd3 = Math.random() * nm3.length | 0;
            }
            while (nm5[rnd5] === nm3[rnd3]) {
                rnd5 = Math.random() * nm5.length | 0;
            }
            if (i < 7) {
                names = nm1[rnd] + nm2[rnd2] + nm3[rnd3] + nm2[rnd4] + nm5[rnd5];
            } else {
                rnd6 = Math.random() * nm4.length | 0;
                rnd7 = Math.random() * nm2.length | 0;
                while (nm4[rnd6] === nm3[rnd3]) {
                    rnd6 = Math.random() * nm4.length | 0;
                }
                names = nm1[rnd] + nm2[rnd2] + nm3[rnd3] + nm2[rnd4] + nm4[rnd6] + nm2[rnd7] + nm5[rnd5];
            }
        }
        list.push(names);
    }
    return list;
}

    </script>
</body>

</html>
